/*! For license information please see 4601.89a62cfce56db1f1.js.LICENSE.txt */
"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["4601"],{832:function(t,e,i){i.a(t,async function(t,e){try{i(23792),i(62953);var a=i(62826),o=i(96196),s=i(77845),r=i(1087),n=i(50285),l=t([n]);n=(l.then?(await l)():l)[0];let d,h=t=>t;class c extends o.WF{render(){return this.aliases?(0,o.qy)(d||(d=h` <ha-multi-textfield .hass="${0}" .value="${0}" .disabled="${0}" .label="${0}" .removeLabel="${0}" .addLabel="${0}" item-index @value-changed="${0}"> </ha-multi-textfield> `),this.hass,this.aliases,this.disabled,this.hass.localize("ui.dialogs.aliases.label"),this.hass.localize("ui.dialogs.aliases.remove"),this.hass.localize("ui.dialogs.aliases.add"),this._aliasesChanged):o.s6}_aliasesChanged(t){(0,r.r)(this,"value-changed",{value:t})}constructor(...t){super(...t),this.disabled=!1}}(0,a.__decorate)([(0,s.MZ)({attribute:!1})],c.prototype,"hass",void 0),(0,a.__decorate)([(0,s.MZ)({type:Array})],c.prototype,"aliases",void 0),(0,a.__decorate)([(0,s.MZ)({type:Boolean})],c.prototype,"disabled",void 0),c=(0,a.__decorate)([(0,s.EM)("ha-aliases-editor")],c),e()}catch(d){e(d)}})},72554:function(t,e,i){i.d(e,{l:function(){return u}});i(23792),i(62953),i(49255);var a=i(62826),o=i(30728),s=i(47705),r=i(96196),n=i(77845);i(26388),i(50888);let l,d,h,c=t=>t;const p=["button","ha-list-item"],u=(t,e)=>{var i;return(0,r.qy)(l||(l=c` <div class="header_title"> <ha-icon-button .label="${0}" .path="${0}" dialogAction="close" class="header_button"></ha-icon-button> <span>${0}</span> </div> `),null!==(i=null==t?void 0:t.localize("ui.common.close"))&&void 0!==i?i:"Close","M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",e)};class _ extends o.u{scrollToPos(t,e){var i;null===(i=this.contentElement)||void 0===i||i.scrollTo(t,e)}renderHeading(){return(0,r.qy)(d||(d=c`<slot name="heading"> ${0} </slot>`),super.renderHeading())}firstUpdated(){var t;super.firstUpdated(),this.suppressDefaultPressSelector=[this.suppressDefaultPressSelector,p].join(", "),this._updateScrolledAttribute(),null===(t=this.contentElement)||void 0===t||t.addEventListener("scroll",this._onScroll,{passive:!0})}disconnectedCallback(){super.disconnectedCallback(),this.contentElement.removeEventListener("scroll",this._onScroll)}_updateScrolledAttribute(){this.contentElement&&this.toggleAttribute("scrolled",0!==this.contentElement.scrollTop)}constructor(...t){super(...t),this._onScroll=()=>{this._updateScrolledAttribute()}}}_.styles=[s.R,(0,r.AH)(h||(h=c`:host([scrolled]) ::slotted(ha-dialog-header){border-bottom:1px solid var(--mdc-dialog-scroll-divider-color,rgba(0,0,0,.12))}.mdc-dialog{--mdc-dialog-scroll-divider-color:var(
          --dialog-scroll-divider-color,
          var(--divider-color)
        );z-index:var(--dialog-z-index,8);-webkit-backdrop-filter:var(--ha-dialog-scrim-backdrop-filter,var(--dialog-backdrop-filter,none));backdrop-filter:var(--ha-dialog-scrim-backdrop-filter,var(--dialog-backdrop-filter,none));--mdc-dialog-box-shadow:var(--dialog-box-shadow, none);--mdc-typography-headline6-font-weight:var(--ha-font-weight-normal);--mdc-typography-headline6-font-size:1.574rem}.mdc-dialog__actions{justify-content:var(--justify-action-buttons,flex-end);padding:var(--ha-space-3) var(--ha-space-4) var(--ha-space-4) var(--ha-space-4)}.mdc-dialog__actions span:first-child{flex:var(--secondary-action-button-flex,unset)}.mdc-dialog__actions span:nth-child(2){flex:var(--primary-action-button-flex,unset)}.mdc-dialog__container{align-items:var(--vertical-align-dialog,center);padding:var(--dialog-container-padding,var(--ha-space-0))}.mdc-dialog__title{padding:var(--ha-space-4) var(--ha-space-4) var(--ha-space-0) var(--ha-space-4)}.mdc-dialog__title:has(span){padding:var(--ha-space-3) var(--ha-space-3) var(--ha-space-0)}.mdc-dialog__title::before{content:unset}.mdc-dialog .mdc-dialog__content{position:var(--dialog-content-position,relative);padding:var(--dialog-content-padding,var(--ha-space-6))}:host([hideactions]) .mdc-dialog .mdc-dialog__content{padding-bottom:var(--dialog-content-padding,var(--ha-space-6))}.mdc-dialog .mdc-dialog__surface{position:var(--dialog-surface-position,relative);top:var(--dialog-surface-top);margin-top:var(--dialog-surface-margin-top);min-width:var(--mdc-dialog-min-width,auto);min-height:var(--mdc-dialog-min-height,auto);border-radius:var(--ha-dialog-border-radius,var(--ha-border-radius-3xl));-webkit-backdrop-filter:var(--ha-dialog-surface-backdrop-filter,none);backdrop-filter:var(--ha-dialog-surface-backdrop-filter,none);background:var(--ha-dialog-surface-background,var(--mdc-theme-surface,#fff));padding:var(--dialog-surface-padding,var(--ha-space-0))}:host([flexContent]) .mdc-dialog .mdc-dialog__content{display:flex;flex-direction:column}.header_title{display:flex;align-items:center;direction:var(--direction)}.header_title span{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:block;padding-left:var(--ha-space-1);padding-right:var(--ha-space-1);margin-right:var(--ha-space-3);margin-inline-end:var(--ha-space-3);margin-inline-start:initial}.header_button{text-decoration:none;color:inherit;inset-inline-start:initial;inset-inline-end:calc(var(--ha-space-3) * -1);direction:var(--direction)}.dialog-actions{inset-inline-start:initial!important;inset-inline-end:var(--ha-space-0)!important;direction:var(--direction)}`))],_=(0,a.__decorate)([(0,n.EM)("ha-dialog")],_)},18198:function(t,e,i){i.d(e,{Si:function(){return d}});var a=i(62826),o=i(96196),s=i(77845);i(67094);let r,n,l=t=>t;const d=t=>{switch(t.level){case 0:return"M11,10H13V16H11V10M22,12H19V20H5V12H2L12,3L22,12M15,10A2,2 0 0,0 13,8H11A2,2 0 0,0 9,10V16A2,2 0 0,0 11,18H13A2,2 0 0,0 15,16V10Z";case 1:return"M12,3L2,12H5V20H19V12H22L12,3M10,8H14V18H12V10H10V8Z";case 2:return"M12,3L2,12H5V20H19V12H22L12,3M9,8H13A2,2 0 0,1 15,10V12A2,2 0 0,1 13,14H11V16H15V18H9V14A2,2 0 0,1 11,12H13V10H9V8Z";case 3:return"M12,3L22,12H19V20H5V12H2L12,3M15,11.5V10C15,8.89 14.1,8 13,8H9V10H13V12H11V14H13V16H9V18H13A2,2 0 0,0 15,16V14.5A1.5,1.5 0 0,0 13.5,13A1.5,1.5 0 0,0 15,11.5Z";case-1:return"M12,3L2,12H5V20H19V12H22L12,3M11,15H7V13H11V15M15,18H13V10H11V8H15V18Z"}return"M10,20V14H14V20H19V12H22L12,3L2,12H5V20H10Z"};class h extends o.WF{render(){if(!this.floor)return o.s6;if(this.floor.icon)return(0,o.qy)(r||(r=l`<ha-icon .icon="${0}"></ha-icon>`),this.floor.icon);const t=d(this.floor);return(0,o.qy)(n||(n=l`<ha-svg-icon .path="${0}"></ha-svg-icon>`),t)}}(0,a.__decorate)([(0,s.MZ)({attribute:!1})],h.prototype,"floor",void 0),(0,a.__decorate)([(0,s.MZ)()],h.prototype,"icon",void 0),h=(0,a.__decorate)([(0,s.EM)("ha-floor-icon")],h)},7089:function(t,e,i){i.a(t,async function(t,e){try{i(74423),i(23792),i(18111),i(81148),i(22489),i(7588),i(61701),i(13579),i(3362),i(62953);var a=i(62826),o=i(96196),s=i(77845),r=i(22786),n=i(1087),l=i(71727),d=i(55931),h=i(43870),c=i(80730),p=i(32250),u=i(65063),_=i(27986),v=(i(75064),i(18198),i(38508)),m=(i(50888),i(67094),t([v]));v=(m.then?(await m)():m)[0];let y,g,f,b,w,$,x,k=t=>t;const C="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z",A="M20 2H4C2.9 2 2 2.9 2 4V20C2 21.11 2.9 22 4 22H20C21.11 22 22 21.11 22 20V4C22 2.9 21.11 2 20 2M4 6L6 4H10.9L4 10.9V6M4 13.7L13.7 4H18.6L4 18.6V13.7M20 18L18 20H13.1L20 13.1V18M20 10.3L10.3 20H5.4L20 5.4V10.3Z",M="___ADD_NEW___";class H extends o.WF{async open(){var t;await this.updateComplete,await(null===(t=this._picker)||void 0===t?void 0:t.open())}render(){var t;const e=null!==(t=this.placeholder)&&void 0!==t?t:this.hass.localize("ui.components.floor-picker.floor"),i=this._computeValueRenderer(this.hass.floors);return(0,o.qy)(y||(y=k` <ha-generic-picker .hass="${0}" .autofocus="${0}" .label="${0}" .notFoundLabel="${0}" .emptyLabel="${0}" .placeholder="${0}" .value="${0}" .getItems="${0}" .getAdditionalItems="${0}" .valueRenderer="${0}" .rowRenderer="${0}" @value-changed="${0}"> </ha-generic-picker> `),this.hass,this.autofocus,this.label,this._notFoundLabel,this.hass.localize("ui.components.floor-picker.no_floors"),e,this.value,this._getItems,this._getAdditionalItems,i,this._rowRenderer,this._valueChanged)}_valueChanged(t){t.stopPropagation();const e=t.detail.value;if(e){if(e.startsWith(M)){this.hass.loadFragmentTranslation("config");const t=e.substring(M.length);return void(0,_.k)(this,{suggestedName:t,createEntry:async(t,e)=>{try{const i=await(0,p.KD)(this.hass,t);e.forEach(t=>{(0,h.gs)(this.hass,t,{floor_id:i.floor_id})}),this._setValue(i.floor_id)}catch(i){(0,u.K$)(this,{title:this.hass.localize("ui.components.floor-picker.failed_create_floor"),text:i.message})}}})}this._setValue(e)}else this._setValue(void 0)}_setValue(t){this.value=t,(0,n.r)(this,"value-changed",{value:t}),(0,n.r)(this,"change")}constructor(...t){super(...t),this.noAdd=!1,this.disabled=!1,this.required=!1,this._computeValueRenderer=(0,r.A)(t=>t=>{const e=this.hass.floors[t];if(!e)return(0,o.qy)(g||(g=k` <ha-svg-icon slot="start" .path="${0}"></ha-svg-icon> <span slot="headline">${0}</span> `),A,e);const i=e?(0,d.X)(e):void 0;return(0,o.qy)(f||(f=k` <ha-floor-icon slot="start" .floor="${0}"></ha-floor-icon> <span slot="headline">${0}</span> `),e,i)}),this._getFloors=(0,r.A)((t,e,i,a,o,s,r,n,h,u)=>{const _=Object.values(t),v=Object.values(e),m=Object.values(i),y=Object.values(a);let g,f,b={};(o||s||r||n||h)&&(b=(0,c.g2)(y),g=m,f=y.filter(t=>t.area_id),o&&(g=g.filter(t=>{const e=b[t.id];return!(!e||!e.length)&&b[t.id].some(t=>o.includes((0,l.m)(t.entity_id)))}),f=f.filter(t=>o.includes((0,l.m)(t.entity_id)))),s&&(g=g.filter(t=>{const e=b[t.id];return!e||!e.length||y.every(t=>!s.includes((0,l.m)(t.entity_id)))}),f=f.filter(t=>!s.includes((0,l.m)(t.entity_id)))),r&&(g=g.filter(t=>{const e=b[t.id];return!(!e||!e.length)&&b[t.id].some(t=>{const e=this.hass.states[t.entity_id];return!!e&&(e.attributes.device_class&&r.includes(e.attributes.device_class))})}),f=f.filter(t=>{const e=this.hass.states[t.entity_id];return e.attributes.device_class&&r.includes(e.attributes.device_class)})),n&&(g=g.filter(t=>n(t))),h&&(g=g.filter(t=>{const e=b[t.id];return!(!e||!e.length)&&b[t.id].some(t=>{const e=this.hass.states[t.entity_id];return!!e&&h(e)})}),f=f.filter(t=>{const e=this.hass.states[t.entity_id];return!!e&&h(e)})));let w,$=_;if(g&&(w=g.filter(t=>t.area_id).map(t=>t.area_id)),f&&(w=(null!=w?w:[]).concat(f.filter(t=>t.area_id).map(t=>t.area_id))),w){const t=(0,p._o)(v);$=$.filter(e=>{var i;return null===(i=t[e.floor_id])||void 0===i?void 0:i.some(t=>w.includes(t.area_id))})}u&&($=$.filter(t=>!u.includes(t.floor_id)));return $.map(t=>{var e;const i=(0,d.X)(t);return{id:t.floor_id,primary:i,floor:t,sorting_label:(null===(e=t.level)||void 0===e?void 0:e.toString())||"zzzzz",search_labels:[i,t.floor_id,...t.aliases].filter(t=>Boolean(t))}})}),this._rowRenderer=t=>(0,o.qy)(b||(b=k` <ha-combo-box-item type="button" compact="compact"> ${0} <span slot="headline">${0}</span> </ha-combo-box-item> `),t.icon_path?(0,o.qy)(w||(w=k` <ha-svg-icon slot="start" style="margin:0 4px" .path="${0}"></ha-svg-icon> `),t.icon_path):(0,o.qy)($||($=k` <ha-floor-icon slot="start" .floor="${0}" style="margin:0 4px"></ha-floor-icon> `),t.floor),t.primary),this._getItems=()=>this._getFloors(this.hass.floors,this.hass.areas,this.hass.devices,this.hass.entities,this.includeDomains,this.excludeDomains,this.includeDeviceClasses,this.deviceFilter,this.entityFilter,this.excludeFloors),this._allFloorNames=(0,r.A)(t=>Object.values(t).map(t=>{var e;return null===(e=(0,d.X)(t))||void 0===e?void 0:e.toLowerCase()}).filter(Boolean)),this._getAdditionalItems=t=>{if(this.noAdd)return[];const e=this._allFloorNames(this.hass.floors);return t&&!e.includes(t.toLowerCase())?[{id:M+t,primary:this.hass.localize("ui.components.floor-picker.add_new_sugestion",{name:t}),icon_path:C}]:[{id:M,primary:this.hass.localize("ui.components.floor-picker.add_new"),icon_path:C}]},this._notFoundLabel=t=>this.hass.localize("ui.components.floor-picker.no_match",{term:(0,o.qy)(x||(x=k`<b>‘${0}’</b>`),t)})}}(0,a.__decorate)([(0,s.MZ)({attribute:!1})],H.prototype,"hass",void 0),(0,a.__decorate)([(0,s.MZ)()],H.prototype,"label",void 0),(0,a.__decorate)([(0,s.MZ)()],H.prototype,"value",void 0),(0,a.__decorate)([(0,s.MZ)()],H.prototype,"helper",void 0),(0,a.__decorate)([(0,s.MZ)()],H.prototype,"placeholder",void 0),(0,a.__decorate)([(0,s.MZ)({type:Boolean,attribute:"no-add"})],H.prototype,"noAdd",void 0),(0,a.__decorate)([(0,s.MZ)({type:Array,attribute:"include-domains"})],H.prototype,"includeDomains",void 0),(0,a.__decorate)([(0,s.MZ)({type:Array,attribute:"exclude-domains"})],H.prototype,"excludeDomains",void 0),(0,a.__decorate)([(0,s.MZ)({type:Array,attribute:"include-device-classes"})],H.prototype,"includeDeviceClasses",void 0),(0,a.__decorate)([(0,s.MZ)({type:Array,attribute:"exclude-floors"})],H.prototype,"excludeFloors",void 0),(0,a.__decorate)([(0,s.MZ)({attribute:!1})],H.prototype,"deviceFilter",void 0),(0,a.__decorate)([(0,s.MZ)({attribute:!1})],H.prototype,"entityFilter",void 0),(0,a.__decorate)([(0,s.MZ)({type:Boolean})],H.prototype,"disabled",void 0),(0,a.__decorate)([(0,s.MZ)({type:Boolean})],H.prototype,"required",void 0),(0,a.__decorate)([(0,s.P)("ha-generic-picker")],H.prototype,"_picker",void 0),H=(0,a.__decorate)([(0,s.EM)("ha-floor-picker")],H),e()}catch(y){e(y)}})},50285:function(t,e,i){i.a(t,async function(t,e){try{i(23792),i(18111),i(61701),i(3362),i(62953);var a=i(62826),o=i(96196),s=i(77845),r=i(1087),n=i(14503),l=i(18350),d=(i(50888),i(3449),i(75709),t([l]));l=(d.then?(await d)():d)[0];let h,c,p,u,_=t=>t;const v="M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19M8,9H16V19H8V9M15.5,4L14.5,3H9.5L8.5,4H5V6H19V4H15.5Z",m="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z";class y extends o.WF{render(){var t,e,i,a;return(0,o.qy)(h||(h=_` ${0} <div class="layout horizontal"> <ha-button size="small" appearance="filled" @click="${0}" .disabled="${0}"> <ha-svg-icon slot="start" .path="${0}"></ha-svg-icon> ${0} </ha-button> </div> ${0} `),this._items.map((t,e)=>{var i,a,s;const r=""+(this.itemIndex?` ${e+1}`:"");return(0,o.qy)(c||(c=_` <div class="layout horizontal center-center row"> <ha-textfield .suffix="${0}" .prefix="${0}" .type="${0}" .autocomplete="${0}" .disabled="${0}" dialogInitialFocus="${0}" .index="${0}" class="flex-auto" .label="${0}" .value="${0}" ?data-last="${0}" @input="${0}" @keydown="${0}"></ha-textfield> <ha-icon-button .disabled="${0}" .index="${0}" slot="navigationIcon" .label="${0}" @click="${0}" .path="${0}"></ha-icon-button> </div> `),this.inputSuffix,this.inputPrefix,this.inputType,this.autocomplete,this.disabled,e,e,""+(this.label?`${this.label}${r}`:""),t,e===this._items.length-1,this._editItem,this._keyDown,this.disabled,e,null!==(i=null!==(a=this.removeLabel)&&void 0!==a?a:null===(s=this.hass)||void 0===s?void 0:s.localize("ui.common.remove"))&&void 0!==i?i:"Remove",this._removeItem,v)}),this._addItem,this.disabled,m,null!==(t=null!==(e=this.addLabel)&&void 0!==e?e:this.label?null===(i=this.hass)||void 0===i?void 0:i.localize("ui.components.multi-textfield.add_item",{item:this.label}):null===(a=this.hass)||void 0===a?void 0:a.localize("ui.common.add"))&&void 0!==t?t:"Add",this.helper?(0,o.qy)(p||(p=_`<ha-input-helper-text .disabled="${0}">${0}</ha-input-helper-text>`),this.disabled,this.helper):o.s6)}get _items(){var t;return null!==(t=this.value)&&void 0!==t?t:[]}async _addItem(){var t;const e=[...this._items,""];this._fireChanged(e),await this.updateComplete;const i=null===(t=this.shadowRoot)||void 0===t?void 0:t.querySelector("ha-textfield[data-last]");null==i||i.focus()}async _editItem(t){const e=t.target.index,i=[...this._items];i[e]=t.target.value,this._fireChanged(i)}async _keyDown(t){"Enter"===t.key&&(t.stopPropagation(),this._addItem())}async _removeItem(t){const e=t.target.index,i=[...this._items];i.splice(e,1),this._fireChanged(i)}_fireChanged(t){this.value=t,(0,r.r)(this,"value-changed",{value:t})}static get styles(){return[n.RF,(0,o.AH)(u||(u=_`.row{margin-bottom:8px}ha-textfield{display:block}ha-icon-button{display:block}`))]}constructor(...t){super(...t),this.disabled=!1,this.itemIndex=!1}}(0,a.__decorate)([(0,s.MZ)({attribute:!1})],y.prototype,"hass",void 0),(0,a.__decorate)([(0,s.MZ)({attribute:!1})],y.prototype,"value",void 0),(0,a.__decorate)([(0,s.MZ)({type:Boolean})],y.prototype,"disabled",void 0),(0,a.__decorate)([(0,s.MZ)()],y.prototype,"label",void 0),(0,a.__decorate)([(0,s.MZ)({attribute:!1})],y.prototype,"helper",void 0),(0,a.__decorate)([(0,s.MZ)({attribute:!1})],y.prototype,"inputType",void 0),(0,a.__decorate)([(0,s.MZ)({attribute:!1})],y.prototype,"inputSuffix",void 0),(0,a.__decorate)([(0,s.MZ)({attribute:!1})],y.prototype,"inputPrefix",void 0),(0,a.__decorate)([(0,s.MZ)({attribute:!1})],y.prototype,"autocomplete",void 0),(0,a.__decorate)([(0,s.MZ)({attribute:!1})],y.prototype,"addLabel",void 0),(0,a.__decorate)([(0,s.MZ)({attribute:!1})],y.prototype,"removeLabel",void 0),(0,a.__decorate)([(0,s.MZ)({attribute:"item-index",type:Boolean})],y.prototype,"itemIndex",void 0),y=(0,a.__decorate)([(0,s.EM)("ha-multi-textfield")],y),e()}catch(h){e(h)}})},8034:function(t,e,i){i(23792),i(62953);var a=i(62826),o=i(96196),s=i(77845);let r,n,l=t=>t;class d extends o.WF{render(){return(0,o.qy)(r||(r=l` <div class="prefix-wrap"> <slot name="prefix"></slot> <div class="body" ?two-line="${0}" ?three-line="${0}"> <slot name="heading"></slot> <div class="secondary"><slot name="description"></slot></div> </div> </div> <div class="content"><slot></slot></div> `),!this.threeLine,this.threeLine)}constructor(...t){super(...t),this.narrow=!1,this.slim=!1,this.threeLine=!1,this.wrapHeading=!1}}d.styles=(0,o.AH)(n||(n=l`:host{display:flex;padding:0 16px;align-content:normal;align-self:auto;align-items:center}.body{padding-top:8px;padding-bottom:8px;padding-left:0;padding-inline-start:0;padding-right:16px;padding-inline-end:16px;overflow:hidden;display:var(--layout-vertical_-_display,flex);flex-direction:var(--layout-vertical_-_flex-direction,column);justify-content:var(--layout-center-justified_-_justify-content,center);flex:var(--layout-flex_-_flex,1);flex-basis:var(--layout-flex_-_flex-basis,0.000000001px)}.body[three-line]{min-height:88px}:host(:not([wrap-heading])) body>*{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.body>.secondary{display:block;padding-top:4px;font-family:var(
        --mdc-typography-body2-font-family,
        var(--mdc-typography-font-family, var(--ha-font-family-body))
      );font-size:var(--mdc-typography-body2-font-size, var(--ha-font-size-s));-webkit-font-smoothing:var(--ha-font-smoothing);-moz-osx-font-smoothing:var(--ha-moz-osx-font-smoothing);font-weight:var(--mdc-typography-body2-font-weight,var(--ha-font-weight-normal));line-height:normal;color:var(--secondary-text-color)}.body[two-line]{min-height:calc(72px - 16px);flex:1}.content{display:contents}:host(:not([narrow])) .content{display:var(--settings-row-content-display,flex);justify-content:flex-end;flex:1;min-width:0;padding:16px 0}.content ::slotted(*){width:var(--settings-row-content-width)}:host([narrow]){align-items:normal;flex-direction:column;border-top:1px solid var(--divider-color);padding-bottom:8px}::slotted(ha-switch){padding:16px 0}.secondary{white-space:normal}.prefix-wrap{display:var(--settings-row-prefix-display)}:host([narrow]) .prefix-wrap{display:flex;align-items:center}:host([slim]),:host([slim]) .content,:host([slim]) ::slotted(ha-switch){padding:0}:host([slim]) .body{min-height:0}`)),(0,a.__decorate)([(0,s.MZ)({type:Boolean,reflect:!0})],d.prototype,"narrow",void 0),(0,a.__decorate)([(0,s.MZ)({type:Boolean,reflect:!0})],d.prototype,"slim",void 0),(0,a.__decorate)([(0,s.MZ)({type:Boolean,attribute:"three-line"})],d.prototype,"threeLine",void 0),(0,a.__decorate)([(0,s.MZ)({type:Boolean,attribute:"wrap-heading",reflect:!0})],d.prototype,"wrapHeading",void 0),d=(0,a.__decorate)([(0,s.EM)("ha-settings-row")],d)},32250:function(t,e,i){i.d(e,{KD:function(){return a},_o:function(){return o}});i(23792),i(44114),i(62953),i(29908);const a=(t,e)=>t.callWS(Object.assign({type:"config/floor_registry/create"},e)),o=t=>{const e={};for(const i of t)i.floor_id&&(i.floor_id in e||(e[i.floor_id]=[]),e[i.floor_id].push(i));return e}},64808:function(t,e,i){i.d(e,{Sn:function(){return a},q2:function(){return o},tb:function(){return s}});i(3362);const a="timestamp",o="temperature",s="humidity"},39803:function(t,e,i){i.a(t,async function(t,a){try{i.r(e);i(23792),i(3362),i(42762),i(62953);var o=i(62826),s=i(96196),r=i(77845),n=i(1087),l=i(82474),d=(i(38962),i(832)),h=i(72554),c=i(7089),p=i(50176),u=i(44002),_=(i(8034),i(75709),i(43870)),v=i(64808),m=i(65063),y=i(14503),g=t([l,d,c,p,u]);[l,d,c,p,u]=g.then?(await g)():g;let f,b,w,$,x,k,C,A,M=t=>t;const H={round:!1,type:"image/jpeg",quality:.75},L=["sensor"],V=[v.q2],E=[v.tb];class Z extends s.WF{async showDialog(t){this._params=t,this._error=void 0,this._params.entry?(this._name=this._params.entry.name,this._aliases=this._params.entry.aliases,this._labels=this._params.entry.labels,this._picture=this._params.entry.picture,this._icon=this._params.entry.icon,this._floor=this._params.entry.floor_id,this._temperatureEntity=this._params.entry.temperature_entity_id,this._humidityEntity=this._params.entry.humidity_entity_id):(this._name=this._params.suggestedName||"",this._aliases=[],this._labels=[],this._picture=null,this._icon=null,this._floor=null,this._temperatureEntity=null,this._humidityEntity=null),await this.updateComplete}closeDialog(){this._error="",this._params=void 0,(0,n.r)(this,"dialog-closed",{dialog:this.localName})}_renderSettings(t){return(0,s.qy)(f||(f=M` ${0} <ha-textfield .value="${0}" @input="${0}" .label="${0}" .validationMessage="${0}" required dialogInitialFocus></ha-textfield> <ha-icon-picker .hass="${0}" .value="${0}" @value-changed="${0}" .label="${0}"></ha-icon-picker> <ha-floor-picker .hass="${0}" .value="${0}" @value-changed="${0}" .label="${0}"></ha-floor-picker> <ha-labels-picker .label="${0}" .hass="${0}" .value="${0}" @value-changed="${0}" .placeholder="${0}"></ha-labels-picker> <ha-picture-upload .hass="${0}" .value="${0}" crop select-media .cropOptions="${0}" @change="${0}"></ha-picture-upload> `),t?(0,s.qy)(b||(b=M` <ha-settings-row> <span slot="heading"> ${0} </span> <span slot="description"> ${0} </span> </ha-settings-row> `),this.hass.localize("ui.panel.config.areas.editor.area_id"),t.area_id):s.s6,this._name,this._nameChanged,this.hass.localize("ui.panel.config.areas.editor.name"),this.hass.localize("ui.panel.config.areas.editor.name_required"),this.hass,this._icon,this._iconChanged,this.hass.localize("ui.panel.config.areas.editor.icon"),this.hass,this._floor,this._floorChanged,this.hass.localize("ui.panel.config.areas.editor.floor"),this.hass.localize("ui.components.label-picker.labels"),this.hass,this._labels,this._labelsChanged,this.hass.localize("ui.panel.config.areas.editor.add_labels"),this.hass,this._picture,H,this._pictureChanged)}_renderAliasExpansion(){return(0,s.qy)(w||(w=M` <ha-expansion-panel outlined .header="${0}" expanded> <div class="content"> <p class="description"> ${0} </p> <ha-aliases-editor .hass="${0}" .aliases="${0}" @value-changed="${0}"></ha-aliases-editor> </div> </ha-expansion-panel> `),this.hass.localize("ui.panel.config.areas.editor.aliases_section"),this.hass.localize("ui.panel.config.areas.editor.aliases_description"),this.hass,this._aliases,this._aliasesChanged)}_renderRelatedEntitiesExpansion(){return(0,s.qy)($||($=M` <ha-expansion-panel outlined .header="${0}" expanded> <div class="content"> <ha-entity-picker .hass="${0}" .label="${0}" .helper="${0}" .value="${0}" .includeDomains="${0}" .includeDeviceClasses="${0}" .entityFilter="${0}" @value-changed="${0}"></ha-entity-picker> <ha-entity-picker .hass="${0}" .label="${0}" .helper="${0}" .value="${0}" .includeDomains="${0}" .includeDeviceClasses="${0}" .entityFilter="${0}" @value-changed="${0}"></ha-entity-picker> </div> </ha-expansion-panel> `),this.hass.localize("ui.panel.config.areas.editor.related_entities_section"),this.hass,this.hass.localize("ui.panel.config.areas.editor.temperature_entity"),this.hass.localize("ui.panel.config.areas.editor.temperature_entity_description"),this._temperatureEntity,L,V,this._areaEntityFilter,this._sensorChanged,this.hass,this.hass.localize("ui.panel.config.areas.editor.humidity_entity"),this.hass.localize("ui.panel.config.areas.editor.humidity_entity_description"),this._humidityEntity,L,E,this._areaEntityFilter,this._sensorChanged)}render(){if(!this._params)return s.s6;const t=this._params.entry,e=!this._isNameValid(),i=!t;return(0,s.qy)(x||(x=M` <ha-dialog open @closed="${0}" .heading="${0}"> <div> ${0} <div class="form"> ${0} ${0} ${0} </div> </div> ${0} <ha-button slot="primaryAction" @click="${0}" .disabled="${0}"> ${0} </ha-button> </ha-dialog> `),this.closeDialog,(0,h.l)(this.hass,t?this.hass.localize("ui.panel.config.areas.editor.update_area"):this.hass.localize("ui.panel.config.areas.editor.create_area")),this._error?(0,s.qy)(k||(k=M`<ha-alert alert-type="error">${0}</ha-alert>`),this._error):"",this._renderSettings(t),this._renderAliasExpansion(),i?s.s6:this._renderRelatedEntitiesExpansion(),i?s.s6:(0,s.qy)(C||(C=M`<ha-button slot="secondaryAction" variant="danger" appearance="plain" @click="${0}"> ${0} </ha-button>`),this._deleteArea,this.hass.localize("ui.common.delete")),this._updateEntry,e||!!this._submitting,t?this.hass.localize("ui.common.save"):this.hass.localize("ui.common.create"))}_isNameValid(){return""!==this._name.trim()}_nameChanged(t){this._error=void 0,this._name=t.target.value}_floorChanged(t){this._error=void 0,this._floor=t.detail.value}_iconChanged(t){this._error=void 0,this._icon=t.detail.value}_labelsChanged(t){this._error=void 0,this._labels=t.detail.value}_pictureChanged(t){this._error=void 0,this._picture=t.target.value}_aliasesChanged(t){this._aliases=t.detail.value}_sensorChanged(t){this[`_${t.target.includeDeviceClasses[0]}Entity`]=t.detail.value||null}async _updateEntry(){const t=!this._params.entry;this._submitting=!0;try{const e={name:this._name.trim(),picture:this._picture||(t?void 0:null),icon:this._icon||(t?void 0:null),floor_id:this._floor||(t?void 0:null),labels:this._labels||null,aliases:this._aliases,temperature_entity_id:this._temperatureEntity,humidity_entity_id:this._humidityEntity};t?await this._params.createEntry(e):await this._params.updateEntry(e),this.closeDialog()}catch(e){this._error=e.message||this.hass.localize("ui.panel.config.areas.editor.unknown_error")}finally{this._submitting=!1}}async _deleteArea(){var t;if(null===(t=this._params)||void 0===t||!t.entry)return;await(0,m.dk)(this,{title:this.hass.localize("ui.panel.config.areas.delete.confirmation_title",{name:this._params.entry.name}),text:this.hass.localize("ui.panel.config.areas.delete.confirmation_text"),dismissText:this.hass.localize("ui.common.cancel"),confirmText:this.hass.localize("ui.common.delete"),destructive:!0})&&(await(0,_.uG)(this.hass,this._params.entry.area_id),this.closeDialog())}static get styles(){return[y.nA,(0,s.AH)(A||(A=M`ha-textfield{display:block}ha-expansion-panel{--expansion-panel-content-padding:0}ha-aliases-editor,ha-entity-picker,ha-expansion-panel,ha-floor-picker,ha-icon-picker,ha-labels-picker,ha-picture-upload{display:block;margin-bottom:16px}ha-dialog{--mdc-dialog-min-width:min(600px, 100vw)}.content{padding:12px}.description{margin:0 0 16px 0}`))]}constructor(...t){super(...t),this._areaEntityFilter=t=>{const e=this.hass.entities[t.entity_id];if(!e)return!1;const i=this._params.entry.area_id;if(e.area_id===i)return!0;if(!e.device_id)return!1;const a=this.hass.devices[e.device_id];return a&&a.area_id===i}}}(0,o.__decorate)([(0,r.MZ)({attribute:!1})],Z.prototype,"hass",void 0),(0,o.__decorate)([(0,r.wk)()],Z.prototype,"_name",void 0),(0,o.__decorate)([(0,r.wk)()],Z.prototype,"_aliases",void 0),(0,o.__decorate)([(0,r.wk)()],Z.prototype,"_labels",void 0),(0,o.__decorate)([(0,r.wk)()],Z.prototype,"_picture",void 0),(0,o.__decorate)([(0,r.wk)()],Z.prototype,"_icon",void 0),(0,o.__decorate)([(0,r.wk)()],Z.prototype,"_floor",void 0),(0,o.__decorate)([(0,r.wk)()],Z.prototype,"_temperatureEntity",void 0),(0,o.__decorate)([(0,r.wk)()],Z.prototype,"_humidityEntity",void 0),(0,o.__decorate)([(0,r.wk)()],Z.prototype,"_error",void 0),(0,o.__decorate)([(0,r.wk)()],Z.prototype,"_params",void 0),(0,o.__decorate)([(0,r.wk)()],Z.prototype,"_submitting",void 0),customElements.define("dialog-area-registry-detail",Z),a()}catch(f){a(f)}})},27986:function(t,e,i){i.d(e,{k:function(){return s}});i(23792),i(3362),i(62953);var a=i(1087);const o=()=>Promise.all([i.e("3785"),i.e("6677"),i.e("3887"),i.e("5547")]).then(i.bind(i,91622)),s=(t,e)=>{(0,a.r)(t,"show-dialog",{dialogTag:"dialog-floor-registry-detail",dialogImport:o,dialogParams:e})}},61171:function(t,e,i){var a=i(96196);let o;e.A=(0,a.AH)(o||(o=(t=>t)`:host{--max-width:30ch;display:inline-block;position:absolute;color:var(--wa-tooltip-content-color);font-size:var(--wa-tooltip-font-size);line-height:var(--wa-tooltip-line-height);text-align:start;white-space:normal}.tooltip{--arrow-size:var(--wa-tooltip-arrow-size);--arrow-color:var(--wa-tooltip-background-color)}.tooltip::part(popup){z-index:1000}.tooltip[placement^=top]::part(popup){transform-origin:bottom}.tooltip[placement^=bottom]::part(popup){transform-origin:top}.tooltip[placement^=left]::part(popup){transform-origin:right}.tooltip[placement^=right]::part(popup){transform-origin:left}.body{display:block;width:max-content;max-width:var(--max-width);border-radius:var(--wa-tooltip-border-radius);background-color:var(--wa-tooltip-background-color);border:var(--wa-tooltip-border-width) var(--wa-tooltip-border-style) var(--wa-tooltip-border-color);padding:.25em .5em;user-select:none;-webkit-user-select:none}.tooltip::part(arrow){border-bottom:var(--wa-tooltip-border-width) var(--wa-tooltip-border-style) var(--wa-tooltip-border-color);border-right:var(--wa-tooltip-border-width) var(--wa-tooltip-border-style) var(--wa-tooltip-border-color)}`))},52630:function(t,e,i){i.a(t,async function(t,a){try{i.d(e,{A:function(){return k}});i(74423),i(23792),i(44114),i(18111),i(22489),i(3362),i(27495),i(62953);var o=i(96196),s=i(77845),r=i(94333),n=i(17051),l=i(42462),d=i(28438),h=i(98779),c=i(27259),p=i(984),u=i(53720),_=i(9395),v=i(32510),m=i(40158),y=i(61171),g=t([m]);m=(g.then?(await g)():g)[0];let $,x=t=>t;var f=Object.defineProperty,b=Object.getOwnPropertyDescriptor,w=(t,e,i,a)=>{for(var o,s=a>1?void 0:a?b(e,i):e,r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a?o(e,i,s):o(s))||s);return a&&s&&f(e,i,s),s};let k=class extends v.A{connectedCallback(){super.connectedCallback(),this.eventController.signal.aborted&&(this.eventController=new AbortController),this.open&&(this.open=!1,this.updateComplete.then(()=>{this.open=!0})),this.id||(this.id=(0,u.N)("wa-tooltip-")),this.for&&this.anchor?(this.anchor=null,this.handleForChange()):this.for&&this.handleForChange()}disconnectedCallback(){super.disconnectedCallback(),document.removeEventListener("keydown",this.handleDocumentKeyDown),this.eventController.abort(),this.anchor&&this.removeFromAriaLabelledBy(this.anchor,this.id)}firstUpdated(){this.body.hidden=!this.open,this.open&&(this.popup.active=!0,this.popup.reposition())}hasTrigger(t){return this.trigger.split(" ").includes(t)}addToAriaLabelledBy(t,e){const i=(t.getAttribute("aria-labelledby")||"").split(/\s+/).filter(Boolean);i.includes(e)||(i.push(e),t.setAttribute("aria-labelledby",i.join(" ")))}removeFromAriaLabelledBy(t,e){const i=(t.getAttribute("aria-labelledby")||"").split(/\s+/).filter(Boolean).filter(t=>t!==e);i.length>0?t.setAttribute("aria-labelledby",i.join(" ")):t.removeAttribute("aria-labelledby")}async handleOpenChange(){if(this.open){if(this.disabled)return;const t=new h.k;if(this.dispatchEvent(t),t.defaultPrevented)return void(this.open=!1);document.addEventListener("keydown",this.handleDocumentKeyDown,{signal:this.eventController.signal}),this.body.hidden=!1,this.popup.active=!0,await(0,c.Ud)(this.popup.popup,"show-with-scale"),this.popup.reposition(),this.dispatchEvent(new l.q)}else{const t=new d.L;if(this.dispatchEvent(t),t.defaultPrevented)return void(this.open=!1);document.removeEventListener("keydown",this.handleDocumentKeyDown),await(0,c.Ud)(this.popup.popup,"hide-with-scale"),this.popup.active=!1,this.body.hidden=!0,this.dispatchEvent(new n.Z)}}handleForChange(){const t=this.getRootNode();if(!t)return;const e=this.for?t.getElementById(this.for):null,i=this.anchor;if(e===i)return;const{signal:a}=this.eventController;e&&(this.addToAriaLabelledBy(e,this.id),e.addEventListener("blur",this.handleBlur,{capture:!0,signal:a}),e.addEventListener("focus",this.handleFocus,{capture:!0,signal:a}),e.addEventListener("click",this.handleClick,{signal:a}),e.addEventListener("mouseover",this.handleMouseOver,{signal:a}),e.addEventListener("mouseout",this.handleMouseOut,{signal:a})),i&&(this.removeFromAriaLabelledBy(i,this.id),i.removeEventListener("blur",this.handleBlur,{capture:!0}),i.removeEventListener("focus",this.handleFocus,{capture:!0}),i.removeEventListener("click",this.handleClick),i.removeEventListener("mouseover",this.handleMouseOver),i.removeEventListener("mouseout",this.handleMouseOut)),this.anchor=e}async handleOptionsChange(){this.hasUpdated&&(await this.updateComplete,this.popup.reposition())}handleDisabledChange(){this.disabled&&this.open&&this.hide()}async show(){if(!this.open)return this.open=!0,(0,p.l)(this,"wa-after-show")}async hide(){if(this.open)return this.open=!1,(0,p.l)(this,"wa-after-hide")}render(){return(0,o.qy)($||($=x` <wa-popup part="base" exportparts="
          popup:base__popup,
          arrow:base__arrow
        " class="${0}" placement="${0}" distance="${0}" skidding="${0}" flip shift ?arrow="${0}" hover-bridge .anchor="${0}"> <div part="body" class="body"> <slot></slot> </div> </wa-popup> `),(0,r.H)({tooltip:!0,"tooltip-open":this.open}),this.placement,this.distance,this.skidding,!this.withoutArrow,this.anchor)}constructor(){super(...arguments),this.placement="top",this.disabled=!1,this.distance=8,this.open=!1,this.skidding=0,this.showDelay=150,this.hideDelay=0,this.trigger="hover focus",this.withoutArrow=!1,this.for=null,this.anchor=null,this.eventController=new AbortController,this.handleBlur=()=>{this.hasTrigger("focus")&&this.hide()},this.handleClick=()=>{this.hasTrigger("click")&&(this.open?this.hide():this.show())},this.handleFocus=()=>{this.hasTrigger("focus")&&this.show()},this.handleDocumentKeyDown=t=>{"Escape"===t.key&&(t.stopPropagation(),this.hide())},this.handleMouseOver=()=>{this.hasTrigger("hover")&&(clearTimeout(this.hoverTimeout),this.hoverTimeout=window.setTimeout(()=>this.show(),this.showDelay))},this.handleMouseOut=()=>{this.hasTrigger("hover")&&(clearTimeout(this.hoverTimeout),this.hoverTimeout=window.setTimeout(()=>this.hide(),this.hideDelay))}}};k.css=y.A,k.dependencies={"wa-popup":m.A},w([(0,s.P)("slot:not([name])")],k.prototype,"defaultSlot",2),w([(0,s.P)(".body")],k.prototype,"body",2),w([(0,s.P)("wa-popup")],k.prototype,"popup",2),w([(0,s.MZ)()],k.prototype,"placement",2),w([(0,s.MZ)({type:Boolean,reflect:!0})],k.prototype,"disabled",2),w([(0,s.MZ)({type:Number})],k.prototype,"distance",2),w([(0,s.MZ)({type:Boolean,reflect:!0})],k.prototype,"open",2),w([(0,s.MZ)({type:Number})],k.prototype,"skidding",2),w([(0,s.MZ)({attribute:"show-delay",type:Number})],k.prototype,"showDelay",2),w([(0,s.MZ)({attribute:"hide-delay",type:Number})],k.prototype,"hideDelay",2),w([(0,s.MZ)()],k.prototype,"trigger",2),w([(0,s.MZ)({attribute:"without-arrow",type:Boolean,reflect:!0})],k.prototype,"withoutArrow",2),w([(0,s.MZ)()],k.prototype,"for",2),w([(0,s.wk)()],k.prototype,"anchor",2),w([(0,_.w)("open",{waitUntilFirstUpdate:!0})],k.prototype,"handleOpenChange",1),w([(0,_.w)("for")],k.prototype,"handleForChange",1),w([(0,_.w)(["distance","placement","skidding"])],k.prototype,"handleOptionsChange",1),w([(0,_.w)("disabled")],k.prototype,"handleDisabledChange",1),k=w([(0,s.EM)("wa-tooltip")],k),a()}catch($){a($)}})},37540:function(t,e,i){i.d(e,{Kq:function(){return c}});i(23792),i(17642),i(58004),i(33853),i(45876),i(32475),i(15024),i(31698),i(62953);var a=i(63937),o=i(42017);const s=(t,e)=>{const i=t._$AN;if(void 0===i)return!1;for(const o of i){var a;null!==(a=o._$AO)&&void 0!==a&&a.call(o,e,!1),s(o,e)}return!0},r=t=>{let e,i;do{var a;if(void 0===(e=t._$AM))break;i=e._$AN,i.delete(t),t=e}while(0===(null===(a=i)||void 0===a?void 0:a.size))},n=t=>{for(let e;e=t._$AM;t=e){let i=e._$AN;if(void 0===i)e._$AN=i=new Set;else if(i.has(t))break;i.add(t),h(e)}};function l(t){void 0!==this._$AN?(r(this),this._$AM=t,n(this)):this._$AM=t}function d(t,e=!1,i=0){const a=this._$AH,o=this._$AN;if(void 0!==o&&0!==o.size)if(e)if(Array.isArray(a))for(let n=i;n<a.length;n++)s(a[n],!1),r(a[n]);else null!=a&&(s(a,!1),r(a));else s(this,t)}const h=t=>{var e,i;t.type==o.OA.CHILD&&(null!==(e=t._$AP)&&void 0!==e||(t._$AP=d),null!==(i=t._$AQ)&&void 0!==i||(t._$AQ=l))};class c extends o.WL{_$AT(t,e,i){super._$AT(t,e,i),n(this),this.isConnected=t._$AU}_$AO(t,e=!0){var i,a;t!==this.isConnected&&(this.isConnected=t,t?null===(i=this.reconnected)||void 0===i||i.call(this):null===(a=this.disconnected)||void 0===a||a.call(this)),e&&(s(this,t),r(this))}setValue(t){if((0,a.Rt)(this._$Ct))this._$Ct._$AI(t,this);else{const e=[...this._$Ct._$AH];e[this._$Ci]=t,this._$Ct._$AI(e,this,0)}}disconnected(){}reconnected(){}constructor(){super(...arguments),this._$AN=void 0}}},45847:function(t,e,i){i.d(e,{T:function(){return p}});i(23792),i(18111),i(20116),i(3362),i(62953);var a=i(5055),o=i(63937),s=i(37540);i(89463),i(66412),i(16280);class r{disconnect(){this.G=void 0}reconnect(t){this.G=t}deref(){return this.G}constructor(t){this.G=t}}class n{get(){return this.Y}pause(){var t;null!==(t=this.Y)&&void 0!==t||(this.Y=new Promise(t=>this.Z=t))}resume(){var t;null!==(t=this.Z)&&void 0!==t&&t.call(this),this.Y=this.Z=void 0}constructor(){this.Y=void 0,this.Z=void 0}}var l=i(42017);const d=t=>!(0,o.sO)(t)&&"function"==typeof t.then,h=1073741823;class c extends s.Kq{render(...t){var e;return null!==(e=t.find(t=>!d(t)))&&void 0!==e?e:a.c0}update(t,e){const i=this._$Cbt;let o=i.length;this._$Cbt=e;const s=this._$CK,r=this._$CX;this.isConnected||this.disconnected();for(let a=0;a<e.length&&!(a>this._$Cwt);a++){const t=e[a];if(!d(t))return this._$Cwt=a,t;a<o&&t===i[a]||(this._$Cwt=h,o=0,Promise.resolve(t).then(async e=>{for(;r.get();)await r.get();const i=s.deref();if(void 0!==i){const a=i._$Cbt.indexOf(t);a>-1&&a<i._$Cwt&&(i._$Cwt=a,i.setValue(e))}}))}return a.c0}disconnected(){this._$CK.disconnect(),this._$CX.pause()}reconnected(){this._$CK.reconnect(this),this._$CX.resume()}constructor(){super(...arguments),this._$Cwt=h,this._$Cbt=[],this._$CK=new r(this),this._$CX=new n}}const p=(0,l.u$)(c)}}]);
//# sourceMappingURL=4601.89a62cfce56db1f1.js.map