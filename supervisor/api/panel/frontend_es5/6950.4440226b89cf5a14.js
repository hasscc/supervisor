"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["6950"],{4358:function(t,e,i){i.d(e,{aH:function(){return r}});var n=i(79),s=i(28978);i(23792),i(62953);const o=[" ",": "," - "],a=t=>t.toLowerCase()!==t,r=(t,e,i)=>{const n=e[t.entity_id];return n?d(n,i):(0,s.u)(t)},d=(t,e,i)=>{const r=t.name||("original_name"in t&&null!=t.original_name?String(t.original_name):void 0),d=t.device_id?e[t.device_id]:void 0;if(!d)return r||(i?(0,s.u)(i):void 0);const c=(0,n.xn)(d);return c!==r?c&&r&&((t,e)=>{const i=t.toLowerCase(),n=e.toLowerCase();for(const s of o){const e=`${n}${s}`;if(i.startsWith(e)){const i=t.substring(e.length);if(i.length)return a(i.substr(0,i.indexOf(" ")))?i:i[0].toUpperCase()+i.slice(1)}}})(r,c)||r:void 0}},74705:function(t,e,i){i.d(e,{Cf:function(){return d}});i(18111),i(81148),i(22489),i(61701),i(13579);var n=i(65522),s=i(79),o=i(4358),a=i(55931),r=i(28455);const d=(t,e,i,d,c,l)=>{const{device:u,area:h,floor:p}=(0,r.l)(t,i,d,c,l);return e.map(e=>{switch(e.type){case"entity":return(0,o.aH)(t,i,d);case"device":return u?(0,s.xn)(u):void 0;case"area":return h?(0,n.A)(h):void 0;case"floor":return p?(0,a.X)(p):void 0;case"text":return e.text;default:return""}})}},28455:function(t,e,i){i.d(e,{l:function(){return n}});const n=(t,e,i,n,o)=>{const a=e[t.entity_id];return a?s(a,e,i,n,o):{entity:null,device:null,area:null,floor:null}},s=(t,e,i,n,s)=>{const o=e[t.entity_id],a=null==t?void 0:t.device_id,r=a?i[a]:void 0,d=(null==t?void 0:t.area_id)||(null==r?void 0:r.area_id),c=d?n[d]:void 0,l=null==c?void 0:c.floor_id;return{entity:o,device:r||null,area:c||null,floor:(l?s[l]:void 0)||null}}},78649:function(t,e,i){i.d(e,{n:function(){return s}});i(27495);const n=/^(\w+)\.(\w+)$/,s=t=>n.test(t)},82474:function(t,e,i){i.a(t,async function(t,e){try{i(23792),i(13609),i(18111),i(61701),i(3362),i(62953);var n=i(62826),s=i(96196),o=i(77845),a=i(22786),r=i(1087),d=i(74705),c=i(78649),l=i(15638),u=i(68423),h=i(95350),p=i(24367),y=i(19711),_=(i(75064),i(38508)),v=(i(67094),i(74281)),f=t([_,v]);[_,v]=f.then?(await f)():f;let m,g,b,$,w,M,C,O,j,x,Z=t=>t;const I="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z",k="M11,13.5V21.5H3V13.5H11M12,2L17.5,11H6.5L12,2M17.5,13C20,13 22,15 22,17.5C22,20 20,22 17.5,22C15,22 13,20 13,17.5C13,15 15,13 17.5,13Z",B="___create-new-entity___";class E extends s.WF{firstUpdated(t){super.firstUpdated(t),this.hass.loadBackendTranslation("title")}get _showEntityId(){var t;return this.showEntityId||(null===(t=this.hass.userData)||void 0===t?void 0:t.showEntityIdPicker)}render(){var t;const e=null!==(t=this.placeholder)&&void 0!==t?t:this.hass.localize("ui.components.entity.entity-picker.placeholder");return(0,s.qy)(m||(m=Z` <ha-generic-picker .hass="${0}" .disabled="${0}" .autofocus="${0}" .allowCustomValue="${0}" .label="${0}" .helper="${0}" .searchLabel="${0}" .notFoundLabel="${0}" .placeholder="${0}" .value="${0}" .rowRenderer="${0}" .getItems="${0}" .getAdditionalItems="${0}" .hideClearIcon="${0}" .searchFn="${0}" .valueRenderer="${0}" @value-changed="${0}" .addButtonLabel="${0}"> </ha-generic-picker> `),this.hass,this.disabled,this.autofocus,this.allowCustomEntity,this.label,this.helper,this.searchLabel,this._notFoundLabel,e,this.addButton?void 0:this.value,this._rowRenderer,this._getItems,this._getAdditionalItems,this.hideClearIcon,this._searchFn,this._valueRenderer,this._valueChanged,this.addButton?this.hass.localize("ui.components.entity.entity-picker.add"):void 0)}async open(){var t;await this.updateComplete,await(null===(t=this._picker)||void 0===t?void 0:t.open())}_valueChanged(t){t.stopPropagation();const e=t.detail.value;if(e){if(e.startsWith(B)){const t=e.substring(B.length);return void(0,y.$)(this,{domain:t,dialogClosedCallback:t=>{t.entityId&&this._setValue(t.entityId)}})}(0,c.n)(e)&&this._setValue(e)}else this._setValue(void 0)}_setValue(t){this.value=t,(0,r.r)(this,"value-changed",{value:t}),(0,r.r)(this,"change")}constructor(...t){super(...t),this.autofocus=!1,this.disabled=!1,this.required=!1,this.showEntityId=!1,this.hideClearIcon=!1,this.addButton=!1,this._valueRenderer=t=>{const e=t||"",i=this.hass.states[e];if(!i)return(0,s.qy)(g||(g=Z` <ha-svg-icon slot="start" .path="${0}" style="margin:0 4px"></ha-svg-icon> <span slot="headline">${0}</span> `),k,e);const[n,o,a]=(0,d.Cf)(i,[{type:"entity"},{type:"device"},{type:"area"}],this.hass.entities,this.hass.devices,this.hass.areas,this.hass.floors),r=(0,l.qC)(this.hass),c=n||o||e,u=[a,n?o:void 0].filter(Boolean).join(r?" ◂ ":" ▸ ");return(0,s.qy)(b||(b=Z` <state-badge .hass="${0}" .stateObj="${0}" slot="start"></state-badge> <span slot="headline">${0}</span> <span slot="supporting-text">${0}</span> `),this.hass,i,c,u)},this._rowRenderer=(t,{index:e})=>{const i=this._showEntityId;return(0,s.qy)($||($=Z` <ha-combo-box-item type="button" compact="compact" .borderTop="${0}"> ${0} <span slot="headline">${0}</span> ${0} ${0} ${0} </ha-combo-box-item> `),0!==e,t.icon_path?(0,s.qy)(w||(w=Z` <ha-svg-icon slot="start" style="margin:0 4px" .path="${0}"></ha-svg-icon> `),t.icon_path):(0,s.qy)(M||(M=Z` <state-badge slot="start" .stateObj="${0}" .hass="${0}"></state-badge> `),t.stateObj,this.hass),t.primary,t.secondary?(0,s.qy)(C||(C=Z`<span slot="supporting-text">${0}</span>`),t.secondary):s.s6,t.stateObj&&i?(0,s.qy)(O||(O=Z` <span slot="supporting-text" class="code"> ${0} </span> `),t.stateObj.entity_id):s.s6,t.domain_name&&!i?(0,s.qy)(j||(j=Z` <div slot="trailing-supporting-text" class="domain"> ${0} </div> `),t.domain_name):s.s6)},this._getAdditionalItems=()=>this._getCreateItems(this.hass.localize,this.createDomains),this._getCreateItems=(0,a.A)((t,e)=>null!=e&&e.length?e.map(e=>{const i=t("ui.components.entity.entity-picker.create_helper",{domain:(0,p.z)(e)?t(`ui.panel.config.helpers.types.${e}`):(0,h.p$)(t,e)});return{id:B+e,primary:i,secondary:t("ui.components.entity.entity-picker.new_entity"),icon_path:I}}):[]),this._getEntitiesMemoized=(0,a.A)(u.wz),this._getItems=()=>this._getEntitiesMemoized(this.hass,this.includeDomains,this.excludeDomains,this.entityFilter,this.includeDeviceClasses,this.includeUnitOfMeasurement,this.includeEntities,this.excludeEntities,this.value),this._searchFn=(t,e)=>{const i=e.findIndex(e=>{var i;return(null===(i=e.stateObj)||void 0===i?void 0:i.entity_id)===t});if(-1===i)return e;const[n]=e.splice(i,1);return e.unshift(n),e},this._notFoundLabel=t=>this.hass.localize("ui.components.entity.entity-picker.no_match",{term:(0,s.qy)(x||(x=Z`<b>‘${0}’</b>`),t)})}}(0,n.__decorate)([(0,o.MZ)({attribute:!1})],E.prototype,"hass",void 0),(0,n.__decorate)([(0,o.MZ)({type:Boolean})],E.prototype,"autofocus",void 0),(0,n.__decorate)([(0,o.MZ)({type:Boolean})],E.prototype,"disabled",void 0),(0,n.__decorate)([(0,o.MZ)({type:Boolean})],E.prototype,"required",void 0),(0,n.__decorate)([(0,o.MZ)({type:Boolean,attribute:"allow-custom-entity"})],E.prototype,"allowCustomEntity",void 0),(0,n.__decorate)([(0,o.MZ)({type:Boolean,attribute:"show-entity-id"})],E.prototype,"showEntityId",void 0),(0,n.__decorate)([(0,o.MZ)()],E.prototype,"label",void 0),(0,n.__decorate)([(0,o.MZ)()],E.prototype,"value",void 0),(0,n.__decorate)([(0,o.MZ)()],E.prototype,"helper",void 0),(0,n.__decorate)([(0,o.MZ)()],E.prototype,"placeholder",void 0),(0,n.__decorate)([(0,o.MZ)({type:String,attribute:"search-label"})],E.prototype,"searchLabel",void 0),(0,n.__decorate)([(0,o.MZ)({attribute:!1,type:Array})],E.prototype,"createDomains",void 0),(0,n.__decorate)([(0,o.MZ)({type:Array,attribute:"include-domains"})],E.prototype,"includeDomains",void 0),(0,n.__decorate)([(0,o.MZ)({type:Array,attribute:"exclude-domains"})],E.prototype,"excludeDomains",void 0),(0,n.__decorate)([(0,o.MZ)({type:Array,attribute:"include-device-classes"})],E.prototype,"includeDeviceClasses",void 0),(0,n.__decorate)([(0,o.MZ)({type:Array,attribute:"include-unit-of-measurement"})],E.prototype,"includeUnitOfMeasurement",void 0),(0,n.__decorate)([(0,o.MZ)({type:Array,attribute:"include-entities"})],E.prototype,"includeEntities",void 0),(0,n.__decorate)([(0,o.MZ)({type:Array,attribute:"exclude-entities"})],E.prototype,"excludeEntities",void 0),(0,n.__decorate)([(0,o.MZ)({attribute:!1})],E.prototype,"entityFilter",void 0),(0,n.__decorate)([(0,o.MZ)({attribute:"hide-clear-icon",type:Boolean})],E.prototype,"hideClearIcon",void 0),(0,n.__decorate)([(0,o.MZ)({attribute:"add-button",type:Boolean})],E.prototype,"addButton",void 0),(0,n.__decorate)([(0,o.P)("ha-generic-picker")],E.prototype,"_picker",void 0),E=(0,n.__decorate)([(0,o.EM)("ha-entity-picker")],E),e()}catch(m){e(m)}})},82e3:function(t,e,i){i.d(e,{Hg:function(){return n},e0:function(){return s}});i(74423),i(18111),i(61701),i(33110),i(3362);const n=t=>t.map(t=>{if("string"!==t.type)return t;switch(t.name){case"username":return Object.assign(Object.assign({},t),{},{autocomplete:"username",autofocus:!0});case"password":return Object.assign(Object.assign({},t),{},{autocomplete:"current-password"});case"code":return Object.assign(Object.assign({},t),{},{autocomplete:"one-time-code",autofocus:!0});default:return t}}),s=(t,e)=>t.callWS({type:"auth/sign_path",path:e})},92025:function(t,e,i){i.d(e,{HV:function(){return o},Hh:function(){return s},KF:function(){return r},ON:function(){return a},g0:function(){return l},s7:function(){return d}});var n=i(23832);const s="unavailable",o="unknown",a="on",r="off",d=[s,o],c=[s,o,r],l=(0,n.g)(d);(0,n.g)(c)},68423:function(t,e,i){i.d(e,{BM:function(){return b},Bz:function(){return f},G3:function(){return p},G_:function(){return y},Ox:function(){return m},P9:function(){return g},jh:function(){return u},v:function(){return h},wz:function(){return $}});i(74423),i(23792),i(26910),i(18111),i(22489),i(20116),i(61701),i(62953);var n=i(70570),s=i(22786),o=i(71727),a=i(74705),r=i(28978),d=(i(52220),i(15638)),c=i(9899),l=i(95350);const u=(t,e)=>{if(e.name)return e.name;const i=t.states[e.entity_id];return i?(0,r.u)(i):e.original_name?e.original_name:e.entity_id},h=(t,e)=>t.callWS({type:"config/entity_registry/get",entity_id:e}),p=(t,e)=>t.callWS({type:"config/entity_registry/get_entries",entity_ids:e}),y=(t,e,i)=>t.callWS(Object.assign({type:"config/entity_registry/update",entity_id:e},i)),_=t=>t.sendMessagePromise({type:"config/entity_registry/list"}),v=(t,e)=>t.subscribeEvents((0,c.s)(()=>_(t).then(t=>e.setState(t,!0)),500,!0),"entity_registry_updated"),f=(t,e)=>(0,n.N)("_entityRegistry",_,v,t,e),m=(0,s.A)(t=>{const e={};for(const i of t)e[i.entity_id]=i;return e}),g=(0,s.A)(t=>{const e={};for(const i of t)e[i.id]=i;return e}),b=(t,e)=>t.callWS({type:"config/entity_registry/get_automatic_entity_ids",entity_ids:e}),$=(t,e,i,n,s,c,u,h,p,y="")=>{let _=[],v=Object.keys(t.states);return u&&(v=v.filter(t=>u.includes(t))),h&&(v=v.filter(t=>!h.includes(t))),e&&(v=v.filter(t=>e.includes((0,o.m)(t)))),i&&(v=v.filter(t=>!i.includes((0,o.m)(t)))),_=v.map(e=>{const i=t.states[e],n=(0,r.u)(i),[s,c,u]=(0,a.Cf)(i,[{type:"entity"},{type:"device"},{type:"area"}],t.entities,t.devices,t.areas,t.floors),h=(0,l.p$)(t.localize,(0,o.m)(e)),p=(0,d.qC)(t),_=s||c||e,v=[u,s?c:void 0].filter(Boolean).join(p?" ◂ ":" ▸ ");return{id:`${y}${e}`,primary:_,secondary:v,domain_name:h,sorting_label:[c,s].filter(Boolean).join("_"),search_labels:[s,c,u,h,n,e].filter(Boolean),stateObj:i}}),s&&(_=_.filter(t=>{var e;return t.id===p||(null===(e=t.stateObj)||void 0===e?void 0:e.attributes.device_class)&&s.includes(t.stateObj.attributes.device_class)})),c&&(_=_.filter(t=>{var e;return t.id===p||(null===(e=t.stateObj)||void 0===e?void 0:e.attributes.unit_of_measurement)&&c.includes(t.stateObj.attributes.unit_of_measurement)})),n&&(_=_.filter(t=>t.id===p||t.stateObj&&n(t.stateObj))),_}},19711:function(t,e,i){i.d(e,{$:function(){return o}});i(23792),i(3362),i(62953);var n=i(1087);const s=()=>Promise.all([i.e("3785"),i.e("1046")]).then(i.bind(i,79029)),o=(t,e)=>{(0,n.r)(t,"show-dialog",{dialogTag:"dialog-helper-detail",dialogImport:s,dialogParams:e})}}}]);
//# sourceMappingURL=6950.4440226b89cf5a14.js.map