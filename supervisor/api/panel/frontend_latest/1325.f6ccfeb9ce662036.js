export const __webpack_id__="1325";export const __webpack_ids__=["1325"];export const __webpack_modules__={28:function(e,t,a){a.a(e,async function(e,o){try{a.r(t),a.d(t,{HassioBackups:()=>A});a(44114),a(18111),a(20116),a(61701);var i=a(62826),s=a(96196),r=a(77845),l=a(94333),n=a(22786),c=a(62384),d=a(98975),h=(a(13416),a(35942),a(18350)),p=(a(50888),a(28732),a(67094),a(61716)),u=a(47351),m=a(65063),_=a(23296),b=(a(14325),a(14503)),v=a(7497),g=a(51343),f=a(18119),y=a(62960),x=a(23331),w=a(45996),k=e([h,_,v,d]);[h,_,v,d]=k.then?(await k)():k;const $="M12,3A9,9 0 0,0 3,12H0L4,16L8,12H5A7,7 0 0,1 12,5A7,7 0 0,1 19,12A7,7 0 0,1 12,19C10.5,19 9.09,18.5 7.94,17.7L6.5,19.14C8.04,20.3 9.94,21 12,21A9,9 0 0,0 21,12A9,9 0 0,0 12,3M14,12A2,2 0 0,0 12,10A2,2 0 0,0 10,12A2,2 0 0,0 12,14A2,2 0 0,0 14,12Z",C="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z",M="M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z",L="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z";class A extends s.WF{connectedCallback(){super.connectedCallback(),this.hass&&this._firstUpdatedCalled&&this._fetchBackups()}firstUpdated(e){super.firstUpdated(e),this.hass&&this.isConnected&&this._fetchBackups(),this._firstUpdatedCalled=!0}render(){return this.supervisor?this._isLoading?s.qy`<hass-loading-screen .message="${this.supervisor.localize("backup.loading_backups")}"></hass-loading-screen>`:s.qy` <hass-tabs-subpage-data-table .tabs="${(0,c.v)(this.hass.config.version,2022,5)?[{translationKey:"panel.backups",path:"/hassio/backups",iconPath:$}]:(0,x.R)(this.hass)}" .hass="${this.hass}" .localizeFunc="${this.supervisor.localize}" .searchLabel="${this.supervisor.localize("backup.search")}" .noDataText="${this.supervisor.localize("backup.no_backups")}" .narrow="${this.narrow}" .route="${this.route}" .columns="${this._columns(this.narrow)}" .data="${this._backupData(this._backups||[])}" id="slug" @row-click="${this._handleRowClicked}" @selection-changed="${this._handleSelectionChanged}" clickable selectable has-fab .mainPage="${!(0,c.v)(this.hass.config.version,2021,12)}" back-path="${(0,c.v)(this.hass.config.version,2022,5)?"/config/system":"/config"}" supervisor> <ha-button-menu slot="toolbar-icon" @action="${this._handleAction}"> <ha-icon-button .label="${this.supervisor?.localize("common.menu")}" .path="${M}" slot="trigger"></ha-icon-button> <ha-list-item> ${this.supervisor.localize("common.reload")} </ha-list-item> <ha-list-item> ${this.supervisor.localize("dialog.backup_location.title")} </ha-list-item> ${(0,c.v)(this.hass.config.version,0,116)?s.qy`<ha-list-item> ${this.supervisor.localize("backup.upload_backup")} </ha-list-item>`:""} </ha-button-menu> ${this._selectedBackups.length?s.qy`<div class="${(0,l.H)({"header-toolbar":this.narrow,"table-header":!this.narrow})}" slot="header"> <p class="selected-txt"> ${this.supervisor.localize("backup.selected",{number:this._selectedBackups.length})} </p> <div class="header-btns"> ${this.narrow?s.qy` <ha-icon-button .label="${this.supervisor.localize("backup.delete_selected")}" .path="${C}" class="warning" @click="${this._deleteSelected}"></ha-icon-button> `:s.qy` <ha-button appearance="plain" variant="danger" @click="${this._deleteSelected}"> ${this.supervisor.localize("backup.delete_selected")} </ha-button> `} </div> </div> `:""} <ha-fab slot="fab" @click="${this._createBackup}" .label="${this.supervisor.localize("backup.create_backup")}" extended> <ha-svg-icon slot="icon" .path="${L}"></ha-svg-icon> </ha-fab> </hass-tabs-subpage-data-table> `:s.s6}_handleAction(e){switch(e.detail.index){case 0:this._fetchBackups();break;case 1:(0,g.w)(this,{supervisor:this.supervisor});break;case 2:this._showUploadBackupDialog()}}_handleSelectionChanged(e){this._selectedBackups=e.detail.value}_showUploadBackupDialog(){(0,v.B)(this,{showBackup:e=>(0,f.x)(this,{slug:e,supervisor:this.supervisor,onDelete:()=>this._fetchBackups()}),reloadBackup:()=>this._fetchBackups()})}async _fetchBackups(){this._isLoading=!0,await(0,p.Gm)(this.hass),this._backups=await(0,p.BS)(this.hass),this._isLoading=!1}async _deleteSelected(){if(await(0,m.dk)(this,{title:this.supervisor.localize("backup.delete_backup_title"),text:this.supervisor.localize("backup.delete_backup_text",{number:this._selectedBackups.length}),confirmText:this.supervisor.localize("backup.delete_backup_confirm"),destructive:!0})){try{await Promise.all(this._selectedBackups.map(e=>(0,p.TC)(this.hass,e)))}catch(e){return void(0,m.K$)(this,{title:this.supervisor.localize("backup.failed_to_delete"),text:(0,u.VR)(e)})}await this._fetchBackups(),this._dataTable.clearSelection()}}_handleRowClicked(e){const t=e.detail.id;(0,f.x)(this,{slug:t,supervisor:this.supervisor,onDelete:()=>this._fetchBackups()})}_createBackup(){"running"===this.supervisor.info.state?(0,y.l)(this,{supervisor:this.supervisor,onCreate:()=>this._fetchBackups()}):(0,m.K$)(this,{title:this.supervisor.localize("backup.could_not_create"),text:this.supervisor.localize("backup.create_blocked_not_running",{state:this.supervisor.info.state})})}static get styles(){return[b.RF,w.$,s.AH`:host{color:var(--primary-text-color)}.table-header{display:flex;justify-content:space-between;align-items:center;height:58px;border-bottom:1px solid rgba(var(--rgb-primary-text-color),.12)}.header-toolbar{display:flex;justify-content:space-between;align-items:center;color:var(--secondary-text-color);position:relative;top:-4px}.selected-txt{font-weight:var(--ha-font-weight-bold);padding-left:16px;padding-inline-start:16px;padding-inline-end:initial;color:var(--primary-text-color)}.table-header .selected-txt{margin-top:20px}.header-toolbar .selected-txt{font-size:var(--ha-font-size-l)}.header-toolbar .header-btns{margin-right:-12px;margin-inline-end:-12px;margin-inline-start:initial}.header-btns>ha-button,.header-btns>ha-icon-button{margin:8px}`]}constructor(...e){super(...e),this.narrow=!1,this.isWide=!1,this._selectedBackups=[],this._backups=[],this._isLoading=!1,this._firstUpdatedCalled=!1,this._computeBackupContent=e=>{if("full"===e.type)return this.supervisor.localize("backup.full_backup");const t=[];if(e.content.homeassistant&&t.push("Home Assistant"),0!==e.content.folders.length)for(const a of e.content.folders)t.push(p.jT[a]||a);if(0!==e.content.addons.length)for(const a of e.content.addons)t.push(this.supervisor.addon.addons.find(e=>e.slug===a)?.name||a);return t.join(", ")},this._columns=(0,n.A)(e=>({name:{title:this.supervisor.localize("backup.name"),main:!0,sortable:!0,filterable:!0,flex:2,template:e=>s.qy`${e.name||e.slug} <div class="secondary">${e.secondary}</div>`},size:{title:this.supervisor.localize("backup.size"),hidden:e,filterable:!0,sortable:!0,template:e=>Math.ceil(10*e.size)/10+" MB"},location:{title:this.supervisor.localize("backup.location"),hidden:e,filterable:!0,sortable:!0,template:e=>e.location||this.supervisor.localize("backup.data_disk")},date:{title:this.supervisor.localize("backup.created"),direction:"desc",hidden:e,filterable:!0,sortable:!0,template:e=>(0,d.K)(new Date(e.date),this.hass.locale)},secondary:{title:"",hidden:!0,filterable:!0}})),this._backupData=(0,n.A)(e=>e.map(e=>({...e,secondary:this._computeBackupContent(e)})))}}(0,i.__decorate)([(0,r.MZ)({attribute:!1})],A.prototype,"hass",void 0),(0,i.__decorate)([(0,r.MZ)({attribute:!1})],A.prototype,"supervisor",void 0),(0,i.__decorate)([(0,r.MZ)({attribute:!1})],A.prototype,"route",void 0),(0,i.__decorate)([(0,r.MZ)({type:Boolean})],A.prototype,"narrow",void 0),(0,i.__decorate)([(0,r.MZ)({attribute:"is-wide",type:Boolean})],A.prototype,"isWide",void 0),(0,i.__decorate)([(0,r.wk)()],A.prototype,"_selectedBackups",void 0),(0,i.__decorate)([(0,r.wk)()],A.prototype,"_backups",void 0),(0,i.__decorate)([(0,r.wk)()],A.prototype,"_isLoading",void 0),(0,i.__decorate)([(0,r.P)("hass-tabs-subpage-data-table",!0)],A.prototype,"_dataTable",void 0),A=(0,i.__decorate)([(0,r.EM)("hassio-backups")],A),o()}catch(e){o(e)}})},95944:function(e,t,a){a.a(e,async function(e,t){try{var o=a(62826),i=a(96196),s=a(77845),r=a(1087),l=a(41060),n=a(61716),c=a(47351),d=a(65063),h=e([l]);l=(h.then?(await h)():h)[0];const p="M20,6A2,2 0 0,1 22,8V18A2,2 0 0,1 20,20H4A2,2 0 0,1 2,18V6A2,2 0 0,1 4,4H10L12,6H20M10.75,13H14V17H16V13H19.25L15,8.75";class u extends i.WF{render(){return i.qy` <ha-file-upload .hass="${this.hass}" .uploading="${this._uploading}" .icon="${p}" accept="application/x-tar" .label="${this.localize?.("ui.panel.page-onboarding.restore.upload_backup")||"Upload backup"}" .supports="${this.localize?.("ui.panel.page-onboarding.restore.upload_supports")||"Supports .TAR files"}" .secondary="${this.localize?.("ui.panel.page-onboarding.restore.upload_drop")||"Or drop your file here"}" @file-picked="${this._uploadFile}" @files-cleared="${this._clear}"></ha-file-upload> `}_clear(){this.value=null,(0,r.r)(this,"backup-cleared")}async _uploadFile(e){const t=e.detail.files[0];if(["application/x-tar"].includes(t.type)){this._uploading=!0;try{const e=await(0,n.kI)(this.hass,t);(0,r.r)(this,"hassio-backup-uploaded",{backup:e.data})}catch(e){(0,d.K$)(this,{title:"Upload failed",text:(0,c.VR)(e),confirmText:"ok"})}finally{this._uploading=!1}}else(0,d.K$)(this,{title:"Unsupported file format",text:"Please choose a Home Assistant backup file (.tar)",confirmText:"ok"})}constructor(...e){super(...e),this.value=null,this._uploading=!1}}(0,o.__decorate)([(0,s.MZ)({attribute:!1})],u.prototype,"localize",void 0),(0,o.__decorate)([(0,s.wk)()],u.prototype,"value",void 0),(0,o.__decorate)([(0,s.wk)()],u.prototype,"_uploading",void 0),u=(0,o.__decorate)([(0,s.EM)("hassio-upload-backup")],u),t()}catch(e){t(e)}})},52715:function(e,t,a){a.a(e,async function(e,o){try{a.r(t),a.d(t,{DialogHassioBackupUpload:()=>p});var i=a(62826),s=a(96196),r=a(77845),l=a(1087),n=(a(73647),a(50888),a(72554),a(14503)),c=a(95944),d=e([c]);c=(d.then?(await d)():d)[0];const h="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z";class p extends s.WF{async showDialog(e){this._dialogParams=e,await this.updateComplete}closeDialog(){return this._dialogParams&&!this._dialogParams.onboarding&&this._dialogParams.reloadBackup&&this._dialogParams.reloadBackup(),this._dialogParams=void 0,(0,l.r)(this,"dialog-closed",{dialog:this.localName}),!0}render(){return this._dialogParams?s.qy` <ha-dialog open scrimClickAction escapeKeyAction hideActions .heading="${this.hass?.localize("ui.panel.page-onboarding.restore.upload_backup")||"Upload backup"}" @closed="${this.closeDialog}"> <div slot="heading"> <ha-header-bar> <span slot="title">${this.hass?.localize("ui.panel.page-onboarding.restore.upload_backup")||"Upload backup"}</span> <ha-icon-button .label="${this.hass?.localize("ui.common.close")||"Close"}" .path="${h}" slot="actionItems" dialogAction="cancel" dialogInitialFocus></ha-icon-button> </ha-header-bar> </div> <hassio-upload-backup @hassio-backup-uploaded="${this._backupUploaded}" .hass="${this.hass}"></hassio-upload-backup> </ha-dialog> `:s.s6}_backupUploaded(e){const t=e.detail.backup;this._dialogParams?.showBackup(t.slug),this.closeDialog()}static get styles(){return[n.nA,s.AH`ha-header-bar{--mdc-theme-on-primary:var(--primary-text-color);--mdc-theme-primary:var(--mdc-theme-surface);flex-shrink:0}@media all and (max-width:450px),all and (max-height:500px){ha-header-bar{--mdc-theme-primary:var(--app-header-background-color);--mdc-theme-on-primary:var(--app-header-text-color, white)}}`]}}(0,i.__decorate)([(0,r.MZ)({attribute:!1})],p.prototype,"hass",void 0),(0,i.__decorate)([(0,r.wk)()],p.prototype,"_dialogParams",void 0),p=(0,i.__decorate)([(0,r.EM)("dialog-hassio-backup-upload")],p),o()}catch(e){o(e)}})},7497:function(e,t,a){a.a(e,async function(e,o){try{a.d(t,{B:()=>l});var i=a(1087),s=a(52715),r=e([s]);s=(r.then?(await r)():r)[0];const l=(e,t)=>{(0,i.r)(e,"show-dialog",{dialogTag:"dialog-hassio-backup-upload",dialogImport:()=>Promise.resolve().then(a.bind(a,52715)),dialogParams:t})};o()}catch(e){o(e)}})},51343:function(e,t,a){a.d(t,{w:()=>i});var o=a(1087);const i=(e,t)=>{(0,o.r)(e,"show-dialog",{dialogTag:"dialog-hassio-backup-location",dialogImport:()=>Promise.all([a.e("3480"),a.e("2719")]).then(a.bind(a,93737)),dialogParams:t})}},18119:function(e,t,a){a.d(t,{x:()=>i});var o=a(1087);const i=(e,t)=>{(0,o.r)(e,"show-dialog",{dialogTag:"dialog-hassio-backup",dialogImport:()=>Promise.all([a.e("1279"),a.e("3423"),a.e("7261"),a.e("7058")]).then(a.bind(a,40313)),dialogParams:t})}},62960:function(e,t,a){a.d(t,{l:()=>i});var o=a(1087);const i=(e,t)=>{(0,o.r)(e,"show-dialog",{dialogTag:"dialog-hassio-create-backup",dialogImport:()=>Promise.all([a.e("1279"),a.e("7261"),a.e("5595")]).then(a.bind(a,35270)),dialogParams:t})}},25235:function(e,t,a){a.d(t,{P:()=>r});var o=a(58109),i=a(46927);const s=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],r=e=>e.first_weekday===i.zt.language?"weekInfo"in Intl.Locale.prototype?new Intl.Locale(e.language).weekInfo.firstDay%7:(0,o.S)(e.language)%7:s.includes(e.first_weekday)?s.indexOf(e.first_weekday):1},98975:function(e,t,a){a.a(e,async function(e,o){try{a.d(t,{K:()=>c});var i=a(74487),s=a(22786),r=a(63927),l=e([i,r]);[i,r]=l.then?(await l)():l;const n=(0,s.A)(e=>new Intl.RelativeTimeFormat(e.language,{numeric:"auto"})),c=(e,t,a,o=!0)=>{const i=(0,r.x)(e,a,t);return o?n(t).format(i.value,i.unit):Intl.NumberFormat(t.language,{style:"unit",unit:i.unit,unitDisplay:"long"}).format(Math.abs(i.value))};o()}catch(e){o(e)}})},67258:function(e,t,a){a.d(t,{d:()=>o});const o=e=>{switch(e.language){case"cs":case"de":case"fi":case"fr":case"sk":case"sv":return" ";default:return""}}},9899:function(e,t,a){a.d(t,{s:()=>o});const o=(e,t,a=!1)=>{let o;const i=(...i)=>{const s=a&&!o;clearTimeout(o),o=window.setTimeout(()=>{o=void 0,e(...i)},t),s&&e(...i)};return i.cancel=()=>{clearTimeout(o)},i}},63927:function(e,t,a){a.a(e,async function(e,o){try{a.d(t,{x:()=>h});var i=a(6946),s=a(52640),r=a(56232),l=a(25235);const n=1e3,c=60,d=60*c;function h(e,t=Date.now(),a,o={}){const h={...p,...o||{}},u=(+e-+t)/n;if(Math.abs(u)<h.second)return{value:Math.round(u),unit:"second"};const m=u/c;if(Math.abs(m)<h.minute)return{value:Math.round(m),unit:"minute"};const _=u/d;if(Math.abs(_)<h.hour)return{value:Math.round(_),unit:"hour"};const b=new Date(e),v=new Date(t);b.setHours(0,0,0,0),v.setHours(0,0,0,0);const g=(0,i.c)(b,v);if(0===g)return{value:Math.round(_),unit:"hour"};if(Math.abs(g)<h.day)return{value:g,unit:"day"};const f=(0,l.P)(a),y=(0,s.k)(b,{weekStartsOn:f}),x=(0,s.k)(v,{weekStartsOn:f}),w=(0,r.I)(y,x);if(0===w)return{value:g,unit:"day"};if(Math.abs(w)<h.week)return{value:w,unit:"week"};const k=b.getFullYear()-v.getFullYear(),$=12*k+b.getMonth()-v.getMonth();return 0===$?{value:w,unit:"week"}:Math.abs($)<h.month||0===k?{value:$,unit:"month"}:{value:Math.round(k),unit:"year"}}const p={second:59,minute:59,hour:22,day:5,week:4,month:11};o()}catch(u){o(u)}})},34296:function(e,t,a){var o=a(62826),i=a(96229),s=a(26069),r=a(91735),l=a(42034),n=a(96196),c=a(77845);class d extends i.k{renderOutline(){return this.filled?n.qy`<span class="filled"></span>`:super.renderOutline()}getContainerClasses(){return{...super.getContainerClasses(),active:this.active}}renderPrimaryContent(){return n.qy` <span class="leading icon" aria-hidden="true"> ${this.renderLeadingIcon()} </span> <span class="label">${this.label}</span> <span class="touch"></span> <span class="trailing leading icon" aria-hidden="true"> ${this.renderTrailingIcon()} </span> `}renderTrailingIcon(){return n.qy`<slot name="trailing-icon"></slot>`}constructor(...e){super(...e),this.filled=!1,this.active=!1}}d.styles=[r.R,l.R,s.R,n.AH`:host{--md-sys-color-primary:var(--primary-text-color);--md-sys-color-on-surface:var(--primary-text-color);--md-assist-chip-container-shape:var(
          --ha-assist-chip-container-shape,
          16px
        );--md-assist-chip-outline-color:var(--outline-color);--md-assist-chip-label-text-weight:400}.filled{display:flex;pointer-events:none;border-radius:inherit;inset:0;position:absolute;background-color:var(--ha-assist-chip-filled-container-color)}::slotted([slot=icon]),::slotted([slot=trailing-icon]){display:flex;--mdc-icon-size:var(--md-input-chip-icon-size, 18px);font-size:var(--_label-text-size)!important}.trailing.icon ::slotted(*),.trailing.icon svg{margin-inline-end:unset;margin-inline-start:var(--_icon-label-space)}::before{background:var(--ha-assist-chip-container-color,transparent);opacity:var(--ha-assist-chip-container-opacity, 1)}:where(.active)::before{background:var(--ha-assist-chip-active-container-color);opacity:var(--ha-assist-chip-active-container-opacity)}.label{font-family:var(--ha-font-family-body)}`],(0,o.__decorate)([(0,c.MZ)({type:Boolean,reflect:!0})],d.prototype,"filled",void 0),(0,o.__decorate)([(0,c.MZ)({type:Boolean})],d.prototype,"active",void 0),d=(0,o.__decorate)([(0,c.EM)("ha-assist-chip")],d)},13416:function(e,t,a){a(18111),a(7588);var o=a(62826),i=a(96196),s=a(77845),r=a(19422);a(26388),a(79817);class l extends i.WF{get items(){return this._menu?.items}get selected(){return this._menu?.selected}focus(){this._menu?.open?this._menu.focusItemAtIndex(0):this._triggerButton?.focus()}render(){return i.qy` <div @click="${this._handleClick}"> <slot name="trigger" @slotchange="${this._setTriggerAria}"></slot> </div> <ha-menu .corner="${this.corner}" .menuCorner="${this.menuCorner}" .fixed="${this.fixed}" .multi="${this.multi}" .activatable="${this.activatable}" .y="${this.y}" .x="${this.x}"> <slot></slot> </ha-menu> `}firstUpdated(e){super.firstUpdated(e),"rtl"===r.G.document.dir&&this.updateComplete.then(()=>{this.querySelectorAll("ha-list-item").forEach(e=>{const t=document.createElement("style");t.innerHTML="span.material-icons:first-of-type { margin-left: var(--mdc-list-item-graphic-margin, 32px) !important; margin-right: 0px !important;}",e.shadowRoot.appendChild(t)})})}_handleClick(){this.disabled||(this._menu.anchor=this.noAnchor?null:this,this._menu.show())}get _triggerButton(){return this.querySelector('ha-icon-button[slot="trigger"], ha-button[slot="trigger"]')}_setTriggerAria(){this._triggerButton&&(this._triggerButton.ariaHasPopup="menu")}constructor(...e){super(...e),this.corner="BOTTOM_START",this.menuCorner="START",this.x=null,this.y=null,this.multi=!1,this.activatable=!1,this.disabled=!1,this.fixed=!1,this.noAnchor=!1}}l.styles=i.AH`:host{display:inline-block;position:relative}::slotted([disabled]){color:var(--disabled-text-color)}`,(0,o.__decorate)([(0,s.MZ)()],l.prototype,"corner",void 0),(0,o.__decorate)([(0,s.MZ)({attribute:"menu-corner"})],l.prototype,"menuCorner",void 0),(0,o.__decorate)([(0,s.MZ)({type:Number})],l.prototype,"x",void 0),(0,o.__decorate)([(0,s.MZ)({type:Number})],l.prototype,"y",void 0),(0,o.__decorate)([(0,s.MZ)({type:Boolean})],l.prototype,"multi",void 0),(0,o.__decorate)([(0,s.MZ)({type:Boolean})],l.prototype,"activatable",void 0),(0,o.__decorate)([(0,s.MZ)({type:Boolean})],l.prototype,"disabled",void 0),(0,o.__decorate)([(0,s.MZ)({type:Boolean})],l.prototype,"fixed",void 0),(0,o.__decorate)([(0,s.MZ)({type:Boolean,attribute:"no-anchor"})],l.prototype,"noAnchor",void 0),(0,o.__decorate)([(0,s.P)("ha-menu",!0)],l.prototype,"_menu",void 0),l=(0,o.__decorate)([(0,s.EM)("ha-button-menu")],l)},18350:function(e,t,a){a.a(e,async function(e,t){try{var o=a(62826),i=a(88496),s=a(96196),r=a(77845),l=e([i]);i=(l.then?(await l)():l)[0];class n extends i.A{static get styles(){return[i.A.styles,s.AH`:host{--wa-form-control-padding-inline:16px;--wa-font-weight-action:var(--ha-font-weight-medium);--wa-form-control-border-radius:var(
            --ha-button-border-radius,
            var(--ha-border-radius-pill)
          );--wa-form-control-height:var(
            --ha-button-height,
            var(--button-height, 40px)
          )}.button{font-size:var(--ha-font-size-m);line-height:1;transition:background-color .15s ease-in-out;text-wrap:wrap}:host([size=small]) .button{--wa-form-control-height:var(
            --ha-button-height,
            var(--button-height, 32px)
          );font-size:var(--wa-font-size-s, var(--ha-font-size-m));--wa-form-control-padding-inline:12px}:host([variant=brand]){--button-color-fill-normal-active:var(--ha-color-fill-primary-normal-active);--button-color-fill-normal-hover:var(--ha-color-fill-primary-normal-hover);--button-color-fill-loud-active:var(--ha-color-fill-primary-loud-active);--button-color-fill-loud-hover:var(--ha-color-fill-primary-loud-hover)}:host([variant=neutral]){--button-color-fill-normal-active:var(--ha-color-fill-neutral-normal-active);--button-color-fill-normal-hover:var(--ha-color-fill-neutral-normal-hover);--button-color-fill-loud-active:var(--ha-color-fill-neutral-loud-active);--button-color-fill-loud-hover:var(--ha-color-fill-neutral-loud-hover)}:host([variant=success]){--button-color-fill-normal-active:var(--ha-color-fill-success-normal-active);--button-color-fill-normal-hover:var(--ha-color-fill-success-normal-hover);--button-color-fill-loud-active:var(--ha-color-fill-success-loud-active);--button-color-fill-loud-hover:var(--ha-color-fill-success-loud-hover)}:host([variant=warning]){--button-color-fill-normal-active:var(--ha-color-fill-warning-normal-active);--button-color-fill-normal-hover:var(--ha-color-fill-warning-normal-hover);--button-color-fill-loud-active:var(--ha-color-fill-warning-loud-active);--button-color-fill-loud-hover:var(--ha-color-fill-warning-loud-hover)}:host([variant=danger]){--button-color-fill-normal-active:var(--ha-color-fill-danger-normal-active);--button-color-fill-normal-hover:var(--ha-color-fill-danger-normal-hover);--button-color-fill-loud-active:var(--ha-color-fill-danger-loud-active);--button-color-fill-loud-hover:var(--ha-color-fill-danger-loud-hover)}:host([appearance~=plain]) .button{color:var(--wa-color-on-normal);background-color:transparent}:host([appearance~=plain]) .button.disabled{background-color:transparent;color:var(--ha-color-on-disabled-quiet)}:host([appearance~=outlined]) .button.disabled{background-color:transparent;color:var(--ha-color-on-disabled-quiet)}@media (hover:hover){:host([appearance~=filled]) .button:not(.disabled):not(.loading):hover{background-color:var(--button-color-fill-normal-hover)}:host([appearance~=accent]) .button:not(.disabled):not(.loading):hover{background-color:var(--button-color-fill-loud-hover)}:host([appearance~=plain]) .button:not(.disabled):not(.loading):hover{color:var(--wa-color-on-normal)}}:host([appearance~=filled]) .button{color:var(--wa-color-on-normal);background-color:var(--wa-color-fill-normal);border-color:transparent}:host([appearance~=filled]) .button:not(.disabled):not(.loading):active{background-color:var(--button-color-fill-normal-active)}:host([appearance~=filled]) .button.disabled{background-color:var(--ha-color-fill-disabled-normal-resting);color:var(--ha-color-on-disabled-normal)}:host([appearance~=accent]) .button{background-color:var(--wa-color-fill-loud,var(--wa-color-neutral-fill-loud))}:host([appearance~=accent]) .button:not(.disabled):not(.loading):active{background-color:var(--button-color-fill-loud-active)}:host([appearance~=accent]) .button.disabled{background-color:var(--ha-color-fill-disabled-loud-resting);color:var(--ha-color-on-disabled-loud)}:host([loading]){pointer-events:none}.button.disabled{opacity:1}slot[name=start]::slotted(*){margin-inline-end:4px}slot[name=end]::slotted(*){margin-inline-start:4px}.button.has-start{padding-inline-start:8px}.button.has-end{padding-inline-end:8px}.label{overflow:hidden;text-overflow:ellipsis;padding:var(--ha-space-1) 0}`]}constructor(...e){super(...e),this.variant="brand"}}n=(0,o.__decorate)([(0,r.EM)("ha-button")],n),t()}catch(e){t(e)}})},9503:function(e,t,a){var o=a(62826),i=a(69162),s=a(47191),r=a(96196),l=a(77845);class n extends i.L{}n.styles=[s.R,r.AH`:host{--mdc-theme-secondary:var(--primary-color)}`],n=(0,o.__decorate)([(0,l.EM)("ha-checkbox")],n)},76538:function(e,t,a){var o=a(62826),i=a(96196),s=a(77845);class r extends i.WF{render(){const e=i.qy`<div class="header-title"> <slot name="title"></slot> </div>`,t=i.qy`<div class="header-subtitle"> <slot name="subtitle"></slot> </div>`;return i.qy` <header class="header"> <div class="header-bar"> <section class="header-navigation-icon"> <slot name="navigationIcon"></slot> </section> <section class="header-content"> ${"above"===this.subtitlePosition?i.qy`${t}${e}`:i.qy`${e}${t}`} </section> <section class="header-action-items"> <slot name="actionItems"></slot> </section> </div> <slot></slot> </header> `}static get styles(){return[i.AH`:host{display:block}:host([show-border]){border-bottom:1px solid var(--mdc-dialog-scroll-divider-color,rgba(0,0,0,.12))}.header-bar{display:flex;flex-direction:row;align-items:center;padding:0 var(--ha-space-1);box-sizing:border-box}.header-content{flex:1;padding:10px var(--ha-space-1);display:flex;flex-direction:column;justify-content:center;min-height:var(--ha-space-12);min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.header-title{height:var(--ha-dialog-header-title-height,calc(var(--ha-font-size-xl) + var(--ha-space-1)));font-size:var(--ha-font-size-xl);line-height:var(--ha-line-height-condensed);font-weight:var(--ha-font-weight-medium);color:var(--ha-dialog-header-title-color,var(--primary-text-color))}.header-subtitle{font-size:var(--ha-font-size-m);line-height:var(--ha-line-height-normal);color:var(--ha-dialog-header-subtitle-color,var(--secondary-text-color))}@media all and (min-width:450px) and (min-height:500px){.header-bar{padding:0 var(--ha-space-2)}}.header-navigation-icon{flex:none;min-width:var(--ha-space-2);height:100%;display:flex;flex-direction:row}.header-action-items{flex:none;min-width:var(--ha-space-2);height:100%;display:flex;flex-direction:row}`]}constructor(...e){super(...e),this.subtitlePosition="below",this.showBorder=!1}}(0,o.__decorate)([(0,s.MZ)({type:String,attribute:"subtitle-position"})],r.prototype,"subtitlePosition",void 0),(0,o.__decorate)([(0,s.MZ)({type:Boolean,reflect:!0,attribute:"show-border"})],r.prototype,"showBorder",void 0),r=(0,o.__decorate)([(0,s.EM)("ha-dialog-header")],r)},72554:function(e,t,a){a.d(t,{l:()=>c});var o=a(62826),i=a(30728),s=a(47705),r=a(96196),l=a(77845);a(26388),a(50888);const n=["button","ha-list-item"],c=(e,t)=>r.qy` <div class="header_title"> <ha-icon-button .label="${e?.localize("ui.common.close")??"Close"}" .path="${"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"}" dialogAction="close" class="header_button"></ha-icon-button> <span>${t}</span> </div> `;class d extends i.u{scrollToPos(e,t){this.contentElement?.scrollTo(e,t)}renderHeading(){return r.qy`<slot name="heading"> ${super.renderHeading()} </slot>`}firstUpdated(){super.firstUpdated(),this.suppressDefaultPressSelector=[this.suppressDefaultPressSelector,n].join(", "),this._updateScrolledAttribute(),this.contentElement?.addEventListener("scroll",this._onScroll,{passive:!0})}disconnectedCallback(){super.disconnectedCallback(),this.contentElement.removeEventListener("scroll",this._onScroll)}_updateScrolledAttribute(){this.contentElement&&this.toggleAttribute("scrolled",0!==this.contentElement.scrollTop)}constructor(...e){super(...e),this._onScroll=()=>{this._updateScrolledAttribute()}}}d.styles=[s.R,r.AH`:host([scrolled]) ::slotted(ha-dialog-header){border-bottom:1px solid var(--mdc-dialog-scroll-divider-color,rgba(0,0,0,.12))}.mdc-dialog{--mdc-dialog-scroll-divider-color:var(
          --dialog-scroll-divider-color,
          var(--divider-color)
        );z-index:var(--dialog-z-index,8);-webkit-backdrop-filter:var(--ha-dialog-scrim-backdrop-filter,var(--dialog-backdrop-filter,none));backdrop-filter:var(--ha-dialog-scrim-backdrop-filter,var(--dialog-backdrop-filter,none));--mdc-dialog-box-shadow:var(--dialog-box-shadow, none);--mdc-typography-headline6-font-weight:var(--ha-font-weight-normal);--mdc-typography-headline6-font-size:1.574rem}.mdc-dialog__actions{justify-content:var(--justify-action-buttons,flex-end);padding:var(--ha-space-3) var(--ha-space-4) var(--ha-space-4) var(--ha-space-4)}.mdc-dialog__actions span:first-child{flex:var(--secondary-action-button-flex,unset)}.mdc-dialog__actions span:nth-child(2){flex:var(--primary-action-button-flex,unset)}.mdc-dialog__container{align-items:var(--vertical-align-dialog,center);padding:var(--dialog-container-padding,var(--ha-space-0))}.mdc-dialog__title{padding:var(--ha-space-4) var(--ha-space-4) var(--ha-space-0) var(--ha-space-4)}.mdc-dialog__title:has(span){padding:var(--ha-space-3) var(--ha-space-3) var(--ha-space-0)}.mdc-dialog__title::before{content:unset}.mdc-dialog .mdc-dialog__content{position:var(--dialog-content-position,relative);padding:var(--dialog-content-padding,var(--ha-space-6))}:host([hideactions]) .mdc-dialog .mdc-dialog__content{padding-bottom:var(--dialog-content-padding,var(--ha-space-6))}.mdc-dialog .mdc-dialog__surface{position:var(--dialog-surface-position,relative);top:var(--dialog-surface-top);margin-top:var(--dialog-surface-margin-top);min-width:var(--mdc-dialog-min-width,auto);min-height:var(--mdc-dialog-min-height,auto);border-radius:var(--ha-dialog-border-radius,var(--ha-border-radius-3xl));-webkit-backdrop-filter:var(--ha-dialog-surface-backdrop-filter,none);backdrop-filter:var(--ha-dialog-surface-backdrop-filter,none);background:var(--ha-dialog-surface-background,var(--mdc-theme-surface,#fff));padding:var(--dialog-surface-padding,var(--ha-space-0))}:host([flexContent]) .mdc-dialog .mdc-dialog__content{display:flex;flex-direction:column}.header_title{display:flex;align-items:center;direction:var(--direction)}.header_title span{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:block;padding-left:var(--ha-space-1);padding-right:var(--ha-space-1);margin-right:var(--ha-space-3);margin-inline-end:var(--ha-space-3);margin-inline-start:initial}.header_button{text-decoration:none;color:inherit;inset-inline-start:initial;inset-inline-end:calc(var(--ha-space-3) * -1);direction:var(--direction)}.dialog-actions{inset-inline-start:initial!important;inset-inline-end:var(--ha-space-0)!important;direction:var(--direction)}`],d=(0,o.__decorate)([(0,l.EM)("ha-dialog")],d)},41060:function(e,t,a){a.a(e,async function(e,t){try{a(18111),a(61701);var o=a(62826),i=(a(63687),a(96196)),s=a(77845),r=a(94333),l=a(1087),n=a(18350),c=(a(50888),a(67258)),d=a(44537),h=a(46187),p=e([n]);n=(p.then?(await p)():p)[0];const u="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z",m="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M13.5,16V19H10.5V16H8L12,12L16,16H13.5M13,9V3.5L18.5,9H13Z";class _ extends i.WF{firstUpdated(e){super.firstUpdated(e),this.autoOpenFileDialog&&this._openFilePicker()}get _name(){if(void 0===this.value)return"";if("string"==typeof this.value)return this.value;return(this.value instanceof FileList?Array.from(this.value):(0,d.e)(this.value)).map(e=>e.name).join(", ")}render(){const e=this.localize||this.hass.localize;return i.qy` ${this.uploading?i.qy`<div class="container"> <div class="uploading"> <span class="header">${this.uploadingLabel||(this.value?e("ui.components.file-upload.uploading_name",{name:this._name}):e("ui.components.file-upload.uploading"))}</span> ${this.progress?i.qy`<div class="progress"> ${this.progress}${this.hass&&(0,c.d)(this.hass.locale)}% </div>`:i.s6} </div> <mwc-linear-progress .indeterminate="${!this.progress}" .progress="${this.progress?this.progress/100:void 0}"></mwc-linear-progress> </div>`:i.qy`<label for="${this.value?"":"input"}" class="container ${(0,r.H)({dragged:this._drag,multiple:this.multiple,value:Boolean(this.value)})}" @drop="${this._handleDrop}" @dragenter="${this._handleDragStart}" @dragover="${this._handleDragStart}" @dragleave="${this._handleDragEnd}" @dragend="${this._handleDragEnd}">${this.value?"string"==typeof this.value?i.qy`<div class="row"> <div class="value" @click="${this._openFilePicker}"> <ha-svg-icon .path="${this.icon||m}"></ha-svg-icon> ${this.value} </div> <ha-icon-button @click="${this._clearValue}" .label="${this.deleteLabel||e("ui.common.delete")}" .path="${u}"></ha-icon-button> </div>`:(this.value instanceof FileList?Array.from(this.value):(0,d.e)(this.value)).map(t=>i.qy`<div class="row"> <div class="value" @click="${this._openFilePicker}"> <ha-svg-icon .path="${this.icon||m}"></ha-svg-icon> ${t.name} - ${(0,h.A)(t.size)} </div> <ha-icon-button @click="${this._clearValue}" .label="${this.deleteLabel||e("ui.common.delete")}" .path="${u}"></ha-icon-button> </div>`):i.qy`<ha-button size="small" appearance="filled" @click="${this._openFilePicker}"> <ha-svg-icon slot="start" .path="${this.icon||m}"></ha-svg-icon> ${this.label||e("ui.components.file-upload.label")} </ha-button> <span class="secondary">${this.secondary||e("ui.components.file-upload.secondary")}</span> <span class="supports">${this.supports}</span>`} <input id="input" type="file" class="file" .accept="${this.accept}" .multiple="${this.multiple}" @change="${this._handleFilePicked}"></label>`} `}_openFilePicker(){this._input?.click()}_handleDrop(e){e.preventDefault(),e.stopPropagation(),e.dataTransfer?.files&&(0,l.r)(this,"file-picked",{files:this.multiple||1===e.dataTransfer.files.length?Array.from(e.dataTransfer.files):[e.dataTransfer.files[0]]}),this._drag=!1}_handleDragStart(e){e.preventDefault(),e.stopPropagation(),this._drag=!0}_handleDragEnd(e){e.preventDefault(),e.stopPropagation(),this._drag=!1}_handleFilePicked(e){0!==e.target.files.length&&(this.value=e.target.files,(0,l.r)(this,"file-picked",{files:e.target.files}))}_clearValue(e){e.preventDefault(),this._input.value="",this.value=void 0,(0,l.r)(this,"change"),(0,l.r)(this,"files-cleared")}constructor(...e){super(...e),this.multiple=!1,this.disabled=!1,this.uploading=!1,this.autoOpenFileDialog=!1,this._drag=!1}}_.styles=i.AH`:host{display:block;height:240px}:host([disabled]){pointer-events:none;color:var(--disabled-text-color)}.container{position:relative;display:flex;flex-direction:column;justify-content:center;align-items:center;border:solid 1px var(--mdc-text-field-idle-line-color,rgba(0,0,0,.42));border-radius:var(--mdc-shape-small,var(--ha-border-radius-sm));height:100%}.row{display:flex;align-items:center}label.container{border:dashed 1px var(--mdc-text-field-idle-line-color,rgba(0,0,0,.42));cursor:pointer}.container .uploading{display:flex;flex-direction:column;width:100%;align-items:flex-start;padding:0 32px;box-sizing:border-box}:host([disabled]) .container{border-color:var(--disabled-color)}label.dragged,label:hover{border-style:solid}label.dragged{border-color:var(--primary-color)}.dragged:before{position:absolute;top:0;right:0;bottom:0;left:0;background-color:var(--primary-color);content:"";opacity:var(--dark-divider-opacity);pointer-events:none;border-radius:var(--mdc-shape-small,4px)}label.value{cursor:default}label.value.multiple{justify-content:unset;overflow:auto}.highlight{color:var(--primary-color)}ha-button{margin-bottom:8px}.supports{color:var(--secondary-text-color);font-size:var(--ha-font-size-s)}:host([disabled]) .secondary{color:var(--disabled-text-color)}input.file{display:none}.value{cursor:pointer}.value ha-svg-icon{margin-right:8px;margin-inline-end:8px;margin-inline-start:initial}ha-button{--mdc-button-outline-color:var(--primary-color);--mdc-icon-button-size:24px}mwc-linear-progress{width:100%;padding:8px 32px;box-sizing:border-box}.header{font-weight:var(--ha-font-weight-medium)}.progress{color:var(--secondary-text-color)}button.link{background:0 0;border:none;padding:0;font-size:var(--ha-font-size-m);color:var(--primary-color);text-decoration:underline;cursor:pointer}`,(0,o.__decorate)([(0,s.MZ)({attribute:!1})],_.prototype,"hass",void 0),(0,o.__decorate)([(0,s.MZ)({attribute:!1})],_.prototype,"localize",void 0),(0,o.__decorate)([(0,s.MZ)()],_.prototype,"accept",void 0),(0,o.__decorate)([(0,s.MZ)()],_.prototype,"icon",void 0),(0,o.__decorate)([(0,s.MZ)()],_.prototype,"label",void 0),(0,o.__decorate)([(0,s.MZ)()],_.prototype,"secondary",void 0),(0,o.__decorate)([(0,s.MZ)({attribute:"uploading-label"})],_.prototype,"uploadingLabel",void 0),(0,o.__decorate)([(0,s.MZ)({attribute:"delete-label"})],_.prototype,"deleteLabel",void 0),(0,o.__decorate)([(0,s.MZ)()],_.prototype,"supports",void 0),(0,o.__decorate)([(0,s.MZ)({type:Object})],_.prototype,"value",void 0),(0,o.__decorate)([(0,s.MZ)({type:Boolean})],_.prototype,"multiple",void 0),(0,o.__decorate)([(0,s.MZ)({type:Boolean,reflect:!0})],_.prototype,"disabled",void 0),(0,o.__decorate)([(0,s.MZ)({type:Boolean})],_.prototype,"uploading",void 0),(0,o.__decorate)([(0,s.MZ)({type:Number})],_.prototype,"progress",void 0),(0,o.__decorate)([(0,s.MZ)({type:Boolean,attribute:"auto-open-file-dialog"})],_.prototype,"autoOpenFileDialog",void 0),(0,o.__decorate)([(0,s.wk)()],_.prototype,"_drag",void 0),(0,o.__decorate)([(0,s.P)("#input")],_.prototype,"_input",void 0),_=(0,o.__decorate)([(0,s.EM)("ha-file-upload")],_),t()}catch(e){t(e)}})},73647:function(e,t,a){var o=a(62826),i=a(29998),s=a(96196),r=a(77845);class l extends s.WF{render(){return s.qy`<header class="mdc-top-app-bar"> <div class="mdc-top-app-bar__row"> <section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-start" id="navigation"> <slot name="navigationIcon"></slot> <span class="mdc-top-app-bar__title"> <slot name="title"></slot> </span> </section> <section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-end" id="actions" role="toolbar"> <slot name="actionItems"></slot> </section> </div> </header>`}static get styles(){return[(0,s.iz)(i),s.AH`.mdc-top-app-bar__row{height:var(--header-height)}.mdc-top-app-bar{position:static;color:var(--mdc-theme-on-primary,#fff);padding:var(--header-bar-padding)}.mdc-top-app-bar__section.mdc-top-app-bar__section--align-start{flex:1}.mdc-top-app-bar__section.mdc-top-app-bar__section--align-end{flex:none}.mdc-top-app-bar__title{font-size:var(--ha-font-size-xl);padding-inline-start:24px;padding-inline-end:initial}`]}}l=(0,o.__decorate)([(0,r.EM)("ha-header-bar")],l)},28732:function(e,t,a){var o=a(62826),i=a(27686),s=a(7731),r=a(96196),l=a(77845);class n extends i.J{renderRipple(){return this.noninteractive?"":super.renderRipple()}static get styles(){return[s.R,r.AH`:host{padding-left:var(--mdc-list-side-padding-left,var(--mdc-list-side-padding,20px));padding-inline-start:var(--mdc-list-side-padding-left,var(--mdc-list-side-padding,20px));padding-right:var(--mdc-list-side-padding-right,var(--mdc-list-side-padding,20px));padding-inline-end:var(--mdc-list-side-padding-right,var(--mdc-list-side-padding,20px))}:host([graphic=avatar]:not([twoLine])),:host([graphic=icon]:not([twoLine])){height:48px}span.material-icons:first-of-type{margin-inline-start:0px!important;margin-inline-end:var(--mdc-list-item-graphic-margin,16px)!important;direction:var(--direction)!important}span.material-icons:last-of-type{margin-inline-start:auto!important;margin-inline-end:0px!important;direction:var(--direction)!important}.mdc-deprecated-list-item__meta{display:var(--mdc-list-item-meta-display);align-items:center;flex-shrink:0}:host([graphic=icon]:not([twoline])) .mdc-deprecated-list-item__graphic{margin-inline-end:var(--mdc-list-item-graphic-margin,20px)!important}:host([multiline-secondary]){height:auto}:host([multiline-secondary]) .mdc-deprecated-list-item__text{padding:8px 0}:host([multiline-secondary]) .mdc-deprecated-list-item__secondary-text{text-overflow:initial;white-space:normal;overflow:auto;display:inline-block;margin-top:10px}:host([multiline-secondary]) .mdc-deprecated-list-item__primary-text{margin-top:10px}:host([multiline-secondary]) .mdc-deprecated-list-item__secondary-text::before{display:none}:host([multiline-secondary]) .mdc-deprecated-list-item__primary-text::before{display:none}:host([disabled]){color:var(--disabled-text-color)}:host([noninteractive]){pointer-events:unset}`,"rtl"===document.dir?r.AH`span.material-icons:first-of-type,span.material-icons:last-of-type{direction:rtl!important;--direction:rtl}`:r.AH``]}}n=(0,o.__decorate)([(0,l.EM)("ha-list-item")],n)},8630:function(e,t,a){var o=a(62826),i=a(70402),s=a(11081),r=a(77845);class l extends i.iY{}l.styles=s.R,l=(0,o.__decorate)([(0,r.EM)("ha-list")],l)},67134:function(e,t,a){var o=a(62826),i=a(96196),s=a(77845),r=a(1087);a(26388),a(69175);class l extends i.WF{get items(){return this._menu.items}focus(){this._menu.open?this._menu.focus():this._triggerButton?.focus()}render(){return i.qy` <div @click="${this._handleClick}"> <slot name="trigger" @slotchange="${this._setTriggerAria}"></slot> </div> <ha-md-menu .quick="${this.quick}" .positioning="${this.positioning}" .hasOverflow="${this.hasOverflow}" .anchorCorner="${this.anchorCorner}" .menuCorner="${this.menuCorner}" @opening="${this._handleOpening}" @closing="${this._handleClosing}"> <slot></slot> </ha-md-menu> `}_handleOpening(){(0,r.r)(this,"opening",void 0,{composed:!1})}_handleClosing(){(0,r.r)(this,"closing",void 0,{composed:!1})}_handleClick(){this.disabled||(this._menu.anchorElement=this,this._menu.open?this._menu.close():this._menu.show())}get _triggerButton(){return this.querySelector('ha-icon-button[slot="trigger"], ha-button[slot="trigger"], ha-assist-chip[slot="trigger"]')}_setTriggerAria(){this._triggerButton&&(this._triggerButton.ariaHasPopup="menu")}constructor(...e){super(...e),this.disabled=!1,this.anchorCorner="end-start",this.menuCorner="start-start",this.hasOverflow=!1,this.quick=!1}}l.styles=i.AH`:host{display:inline-block;position:relative}::slotted([disabled]){color:var(--disabled-text-color)}`,(0,o.__decorate)([(0,s.MZ)({type:Boolean})],l.prototype,"disabled",void 0),(0,o.__decorate)([(0,s.MZ)()],l.prototype,"positioning",void 0),(0,o.__decorate)([(0,s.MZ)({attribute:"anchor-corner"})],l.prototype,"anchorCorner",void 0),(0,o.__decorate)([(0,s.MZ)({attribute:"menu-corner"})],l.prototype,"menuCorner",void 0),(0,o.__decorate)([(0,s.MZ)({type:Boolean,attribute:"has-overflow"})],l.prototype,"hasOverflow",void 0),(0,o.__decorate)([(0,s.MZ)({type:Boolean})],l.prototype,"quick",void 0),(0,o.__decorate)([(0,s.P)("ha-md-menu",!0)],l.prototype,"_menu",void 0),l=(0,o.__decorate)([(0,s.EM)("ha-md-button-menu")],l)},58491:function(e,t,a){var o=a(62826),i=a(10414),s=a(18989),r=a(96196),l=a(77845);class n extends i.c{}n.styles=[s.R,r.AH`:host{--md-divider-color:var(--divider-color)}`],n=(0,o.__decorate)([(0,l.EM)("ha-md-divider")],n)},16443:function(e,t,a){var o=a(62826),i=a(54407),s=a(28522),r=a(96196),l=a(77845);class n extends i.K{}n.styles=[s.R,r.AH`:host{--ha-icon-display:block;--md-sys-color-primary:var(--primary-text-color);--md-sys-color-on-primary:var(--primary-text-color);--md-sys-color-secondary:var(--secondary-text-color);--md-sys-color-surface:var(--card-background-color);--md-sys-color-on-surface:var(--primary-text-color);--md-sys-color-on-surface-variant:var(--secondary-text-color);--md-sys-color-secondary-container:rgba(
          var(--rgb-primary-color),
          0.15
        );--md-sys-color-on-secondary-container:var(--text-primary-color);--mdc-icon-size:16px;--md-sys-color-on-primary-container:var(--primary-text-color);--md-sys-color-on-secondary-container:var(--primary-text-color);--md-menu-item-label-text-font:Roboto,sans-serif}:host(.warning){--md-menu-item-label-text-color:var(--error-color);--md-menu-item-leading-icon-color:var(--error-color)}::slotted([slot=headline]){text-wrap:nowrap}:host([disabled]){opacity:1;--md-menu-item-label-text-color:var(--disabled-text-color);--md-menu-item-leading-icon-color:var(--disabled-text-color)}`],(0,o.__decorate)([(0,l.MZ)({attribute:!1})],n.prototype,"clickAction",void 0),n=(0,o.__decorate)([(0,l.EM)("ha-md-menu-item")],n)},69175:function(e,t,a){var o=a(62826),i=a(26139),s=a(8889),r=a(63374),l=a(96196),n=a(77845);class c extends i.W1{connectedCallback(){super.connectedCallback(),this.addEventListener("close-menu",this._handleCloseMenu)}_handleCloseMenu(e){e.detail.reason.kind===r.fi.KEYDOWN&&e.detail.reason.key===r.NV.ESCAPE||e.detail.initiator.clickAction?.(e.detail.initiator)}}c.styles=[s.R,l.AH`:host{--md-sys-color-surface-container:var(--card-background-color)}`],c=(0,o.__decorate)([(0,n.EM)("ha-md-menu")],c)},79817:function(e,t,a){var o=a(62826),i=a(43976),s=a(703),r=a(96196),l=a(77845),n=a(94333);a(8630);class c extends i.ZR{get listElement(){return this.listElement_||(this.listElement_=this.renderRoot.querySelector("ha-list")),this.listElement_}renderList(){const e="menu"===this.innerRole?"menuitem":"option",t=this.renderListClasses();return r.qy`<ha-list rootTabbable .innerAriaLabel="${this.innerAriaLabel}" .innerRole="${this.innerRole}" .multi="${this.multi}" class="${(0,n.H)(t)}" .itemRoles="${e}" .wrapFocus="${this.wrapFocus}" .activatable="${this.activatable}" @action="${this.onAction}"> <slot></slot> </ha-list>`}}c.styles=s.R,c=(0,o.__decorate)([(0,l.EM)("ha-menu")],c)},61716:function(e,t,a){a.d(t,{BS:()=>r,Di:()=>h,Gm:()=>n,TC:()=>d,Tw:()=>c,dH:()=>u,jT:()=>s,kI:()=>p,sN:()=>l});var o=a(62384),i=a(47351);const s={ssl:"SSL",homeassistant:"Configuration","addons/local":"Local add-ons",media:"Media",share:"Share"},r=async e=>{if((0,o.v)(e.config.version,2021,2,4)){return(await e.callWS({type:"supervisor/api",endpoint:"/"+((0,o.v)(e.config.version,2021,9)?"backups":"snapshots"),method:"get"}))[(0,o.v)(e.config.version,2021,9)?"backups":"snapshots"]}return(0,i.PS)(await e.callApi("GET","hassio/"+((0,o.v)(e.config.version,2021,9)?"backups":"snapshots"))).snapshots},l=async(e,t)=>(0,o.v)(e.config.version,2021,2,4)?e.callWS({type:"supervisor/api",endpoint:`/${(0,o.v)(e.config.version,2021,9)?"backups":"snapshots"}/${t}/info`,method:"get"}):(0,i.PS)(await e.callApi("GET",`hassio/${(0,o.v)(e.config.version,2021,9)?"backups":"snapshots"}/${t}/info`)),n=async e=>{(0,o.v)(e.config.version,2021,2,4)?await e.callWS({type:"supervisor/api",endpoint:`/${(0,o.v)(e.config.version,2021,9)?"backups":"snapshots"}/reload`,method:"post"}):await e.callApi("POST",`hassio/${(0,o.v)(e.config.version,2021,9)?"backups":"snapshots"}/reload`)},c=async(e,t)=>{(0,o.v)(e.config.version,2021,2,4)?await e.callWS({type:"supervisor/api",endpoint:`/${(0,o.v)(e.config.version,2021,9)?"backups":"snapshots"}/new/full`,method:"post",timeout:null,data:t}):await e.callApi("POST",`hassio/${(0,o.v)(e.config.version,2021,9)?"backups":"snapshots"}/new/full`,t)},d=async(e,t)=>{(0,o.v)(e.config.version,2021,2,4)?await e.callWS({type:"supervisor/api",endpoint:"/"+((0,o.v)(e.config.version,2021,9)?`backups/${t}`:`snapshots/${t}/remove`),method:(0,o.v)(e.config.version,2021,9)?"delete":"post"}):await e.callApi("POST",`hassio/${(0,o.v)(e.config.version,2021,9)?"backups":"snapshots"}/${t}/remove`)},h=async(e,t)=>{(0,o.v)(e.config.version,2021,2,4)?await e.callWS({type:"supervisor/api",endpoint:`/${(0,o.v)(e.config.version,2021,9)?"backups":"snapshots"}/new/partial`,method:"post",timeout:null,data:t}):await e.callApi("POST",`hassio/${(0,o.v)(e.config.version,2021,9)?"backups":"snapshots"}/new/partial`,t)},p=async(e,t)=>{const a=new FormData;let i;if(a.append("file",t),i=e?await e.fetchWithAuth(`/api/hassio/${(0,o.v)(e.config.version,2021,9)?"backups":"snapshots"}/new/upload`,{method:"POST",body:a}):await fetch(`${location.protocol}//${location.host}/api/hassio/backups/new/upload`,{method:"POST",body:a}),413===i.status)throw new Error("Uploaded backup is too large");if(200!==i.status)throw new Error(`${i.status} ${i.statusText}`);return i.json()},u=async(e,t,a,o,i)=>{await e.callApi("POST",`hassio/${i?"backups":"snapshots"}/${a}/restore/${t}`,o)}},46927:function(e,t,a){a.d(t,{Hg:()=>i,Wj:()=>s,jG:()=>o,ow:()=>r,zt:()=>l});var o=function(e){return e.language="language",e.system="system",e.comma_decimal="comma_decimal",e.decimal_comma="decimal_comma",e.quote_decimal="quote_decimal",e.space_comma="space_comma",e.none="none",e}({}),i=function(e){return e.language="language",e.system="system",e.am_pm="12",e.twenty_four="24",e}({}),s=function(e){return e.local="local",e.server="server",e}({}),r=function(e){return e.language="language",e.system="system",e.DMY="DMY",e.MDY="MDY",e.YMD="YMD",e}({}),l=function(e){return e.language="language",e.monday="monday",e.tuesday="tuesday",e.wednesday="wednesday",e.thursday="thursday",e.friday="friday",e.saturday="saturday",e.sunday="sunday",e}({})},14325:function(e,t,a){a(18111),a(22489),a(20116),a(61701);var o=a(62826),i=a(88696),s=a(96196),r=a(77845),l=a(94333),n=a(1087),c=(a(34296),a(44114),a(7588),a(18237),a(13579),a(17642),a(58004),a(33853),a(45876),a(32475),a(15024),a(31698),a(46058),a(34271)),d=a(32288),h=a(29485),p=a(22786),u=a(26218),m=a(52220),_=a(9899);const b=(e,t)=>{const a={};for(const o of e){const e=t(o);e in a?a[e].push(o):a[e]=[o]}return a};var v=a(14503),g=a(85614),f=(a(9503),a(67094),a(3103),a(14603),a(47566),a(98721),a(2209));let y;const x=()=>(y||(y=(0,f.LV)(new Worker(new URL(a.p+a.u("4346"),a.b)))),y);var w=a(12587);const k="zzzzz_undefined";class $ extends s.WF{clearSelection(){this._checkedRows=[],this._lastSelectedRowId=null,this._checkedRowsChanged()}selectAll(){this._checkedRows=this._filteredData.filter(e=>!1!==e.selectable).map(e=>e[this.id]),this._lastSelectedRowId=null,this._checkedRowsChanged()}select(e,t){t&&(this._checkedRows=[]),e.forEach(e=>{const t=this._filteredData.find(t=>t[this.id]===e);!1===t?.selectable||this._checkedRows.includes(e)||this._checkedRows.push(e)}),this._lastSelectedRowId=null,this._checkedRowsChanged()}unselect(e){e.forEach(e=>{const t=this._checkedRows.indexOf(e);t>-1&&this._checkedRows.splice(t,1)}),this._lastSelectedRowId=null,this._checkedRowsChanged()}connectedCallback(){super.connectedCallback(),this._filteredData.length&&(this._filteredData=[...this._filteredData])}firstUpdated(){this.updateComplete.then(()=>this._calcTableHeight())}updated(){const e=this.renderRoot.querySelector(".mdc-data-table__header-row");e&&(e.scrollWidth>e.clientWidth?this.style.setProperty("--table-row-width",`${e.scrollWidth}px`):this.style.removeProperty("--table-row-width"))}willUpdate(e){if(super.willUpdate(e),this.hasUpdated||(0,g.i)(),e.has("columns")){if(this._filterable=Object.values(this.columns).some(e=>e.filterable),!this.sortColumn)for(const e in this.columns)if(this.columns[e].direction){this.sortDirection=this.columns[e].direction,this.sortColumn=e,this._lastSelectedRowId=null,(0,n.r)(this,"sorting-changed",{column:e,direction:this.sortDirection});break}const e=(0,c.A)(this.columns);Object.values(e).forEach(e=>{delete e.title,delete e.template,delete e.extraTemplate}),this._sortColumns=e}if(e.has("filter")&&(this._debounceSearch(this.filter),this._lastSelectedRowId=null),e.has("data")){if(this._checkedRows.length){const e=new Set(this.data.map(e=>String(e[this.id]))),t=this._checkedRows.filter(t=>e.has(t));t.length!==this._checkedRows.length&&(this._checkedRows=t,this._checkedRowsChanged())}this._checkableRowsCount=this.data.filter(e=>!1!==e.selectable).length}!this.hasUpdated&&this.initialCollapsedGroups?(this._collapsedGroups=this.initialCollapsedGroups,this._lastSelectedRowId=null,(0,n.r)(this,"collapsed-changed",{value:this._collapsedGroups})):e.has("groupColumn")&&(this._collapsedGroups=[],this._lastSelectedRowId=null,(0,n.r)(this,"collapsed-changed",{value:this._collapsedGroups})),(e.has("data")||e.has("columns")||e.has("_filter")||e.has("sortColumn")||e.has("sortDirection"))&&this._sortFilterData(),(e.has("_filter")||e.has("sortColumn")||e.has("sortDirection"))&&(this._lastSelectedRowId=null),(e.has("selectable")||e.has("hiddenColumns"))&&(this._filteredData=[...this._filteredData])}render(){const e=this.localizeFunc||this.hass.localize,t=this._sortedColumns(this.columns,this.columnOrder);return s.qy` <div class="mdc-data-table"> <slot name="header" @slotchange="${this._calcTableHeight}"> ${this._filterable?s.qy` <div class="table-header"> <search-input .hass="${this.hass}" @value-changed="${this._handleSearchChange}" .label="${this.searchLabel}" .noLabelFloat="${this.noLabelFloat}"></search-input> </div> `:""} </slot> <div class="mdc-data-table__table ${(0,l.H)({"auto-height":this.autoHeight})}" role="table" aria-rowcount="${this._filteredData.length+1}" style="${(0,h.W)({height:this.autoHeight?53*(this._filteredData.length||1)+53+"px":`calc(100% - ${this._headerHeight}px)`})}"> <div class="mdc-data-table__header-row" role="row" aria-rowindex="1" @scroll="${this._scrollContent}"> <slot name="header-row"> ${this.selectable?s.qy` <div class="mdc-data-table__header-cell mdc-data-table__header-cell--checkbox" role="columnheader"> <ha-checkbox class="mdc-data-table__row-checkbox" @change="${this._handleHeaderRowCheckboxClick}" .indeterminate="${this._checkedRows.length&&this._checkedRows.length!==this._checkableRowsCount}" .checked="${this._checkedRows.length&&this._checkedRows.length===this._checkableRowsCount}"> </ha-checkbox> </div> `:""} ${Object.entries(t).map(([e,t])=>{if(t.hidden||(this.columnOrder&&this.columnOrder.includes(e)?this.hiddenColumns?.includes(e)??t.defaultHidden:t.defaultHidden))return s.s6;const a=e===this.sortColumn,o={"mdc-data-table__header-cell--numeric":"numeric"===t.type,"mdc-data-table__header-cell--icon":"icon"===t.type,"mdc-data-table__header-cell--icon-button":"icon-button"===t.type,"mdc-data-table__header-cell--overflow-menu":"overflow-menu"===t.type,"mdc-data-table__header-cell--overflow":"overflow"===t.type,sortable:Boolean(t.sortable),"not-sorted":Boolean(t.sortable&&!a)};return s.qy` <div aria-label="${(0,d.J)(t.label)}" class="mdc-data-table__header-cell ${(0,l.H)(o)}" style="${(0,h.W)({minWidth:t.minWidth,maxWidth:t.maxWidth,flex:t.flex||1})}" role="columnheader" aria-sort="${(0,d.J)(a?"desc"===this.sortDirection?"descending":"ascending":void 0)}" @click="${this._handleHeaderClick}" .columnId="${e}" title="${(0,d.J)(t.title)}"> ${t.sortable?s.qy` <ha-svg-icon .path="${a&&"desc"===this.sortDirection?"M11,4H13V16L18.5,10.5L19.92,11.92L12,19.84L4.08,11.92L5.5,10.5L11,16V4Z":"M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z"}"></ha-svg-icon> `:""} <span>${t.title}</span> </div> `})} </slot> </div> ${this._filteredData.length?s.qy` <lit-virtualizer scroller class="mdc-data-table__content scroller ha-scrollbar" @scroll="${this._saveScrollPos}" .items="${this._groupData(this._filteredData,e,this.appendRow,this.hasFab,this.groupColumn,this.groupOrder,this._collapsedGroups,this.sortColumn,this.sortDirection)}" .keyFunction="${this._keyFunction}" .renderItem="${(e,a)=>this._renderRow(t,this.narrow,e,a)}"></lit-virtualizer> `:s.qy` <div class="mdc-data-table__content"> <div class="mdc-data-table__row" role="row"> <div class="mdc-data-table__cell grows center" role="cell"> ${this.noDataText||e("ui.components.data-table.no-data")} </div> </div> </div> `} </div> </div> `}async _sortFilterData(){const e=(new Date).getTime(),t=e-this._lastUpdate,a=e-this._curRequest;this._curRequest=e;const o=!this._lastUpdate||t>500&&a<500;let i=this.data;if(this._filter&&(i=await this._memFilterData(this.data,this._sortColumns,this._filter.trim())),!o&&this._curRequest!==e)return;const s=this.sortColumn&&this._sortColumns[this.sortColumn]?((e,t,a,o,i)=>x().sortData(e,t,a,o,i))(i,this._sortColumns[this.sortColumn],this.sortDirection,this.sortColumn,this.hass.locale.language):i,[r]=await Promise.all([s,w.E]),l=(new Date).getTime()-e;l<100&&await new Promise(e=>{setTimeout(e,100-l)}),(o||this._curRequest===e)&&(this._lastUpdate=e,this._filteredData=r)}_handleHeaderClick(e){const t=e.currentTarget.columnId;this.columns[t].sortable&&(this.sortDirection&&this.sortColumn===t?"asc"===this.sortDirection?this.sortDirection="desc":this.sortDirection=null:this.sortDirection="asc",this.sortColumn=null===this.sortDirection?void 0:t,(0,n.r)(this,"sorting-changed",{column:t,direction:this.sortDirection}))}_handleHeaderRowCheckboxClick(e){e.target.checked?this.selectAll():(this._checkedRows=[],this._checkedRowsChanged()),this._lastSelectedRowId=null}_selectRange(e,t,a){const o=Math.min(t,a),i=Math.max(t,a),s=[];for(let t=o;t<=i;t++){const a=e[t];a&&!1!==a.selectable&&!this._checkedRows.includes(a[this.id])&&s.push(a[this.id])}return s}_setTitle(e){const t=e.currentTarget;t.scrollWidth>t.offsetWidth&&t.setAttribute("title",t.innerText)}_checkedRowsChanged(){this._filteredData.length&&(this._filteredData=[...this._filteredData]),(0,n.r)(this,"selection-changed",{value:this._checkedRows})}_handleSearchChange(e){this.filter||(this._lastSelectedRowId=null,this._debounceSearch(e.detail.value))}async _calcTableHeight(){this.autoHeight||(await this.updateComplete,this._headerHeight=this._header.clientHeight)}_saveScrollPos(e){this._savedScrollPos=e.target.scrollTop,this.renderRoot.querySelector(".mdc-data-table__header-row").scrollLeft=e.target.scrollLeft}_scrollContent(e){this.renderRoot.querySelector("lit-virtualizer").scrollLeft=e.target.scrollLeft}expandAllGroups(){this._collapsedGroups=[],this._lastSelectedRowId=null,(0,n.r)(this,"collapsed-changed",{value:this._collapsedGroups})}collapseAllGroups(){if(!this.groupColumn||!this.data.some(e=>e[this.groupColumn]))return;const e=b(this.data,e=>e[this.groupColumn]);e.undefined&&(e[k]=e.undefined,delete e.undefined),this._collapsedGroups=Object.keys(e),this._lastSelectedRowId=null,(0,n.r)(this,"collapsed-changed",{value:this._collapsedGroups})}static get styles(){return[v.dp,s.AH`:host{height:100%}.mdc-data-table__content{font-family:var(--ha-font-family-body);-moz-osx-font-smoothing:var(--ha-moz-osx-font-smoothing);-webkit-font-smoothing:var(--ha-font-smoothing);font-size:.875rem;line-height:var(--ha-line-height-condensed);font-weight:var(--ha-font-weight-normal);letter-spacing:.0178571429em;text-decoration:inherit;text-transform:inherit}.mdc-data-table{background-color:var(--data-table-background-color);border-radius:var(--ha-border-radius-sm);border-width:1px;border-style:solid;border-color:var(--divider-color);display:inline-flex;flex-direction:column;box-sizing:border-box;overflow:hidden}.mdc-data-table__row--selected{background-color:rgba(var(--rgb-primary-color),.04)}.mdc-data-table__row{display:flex;height:var(--data-table-row-height,52px);width:var(--table-row-width,100%)}.mdc-data-table__row.empty-row{height:var(--data-table-empty-row-height,var(--data-table-row-height,52px))}.mdc-data-table__row~.mdc-data-table__row{border-top:1px solid var(--divider-color)}.mdc-data-table__row.clickable:not(
.mdc-data-table__row--selected
):hover{background-color:rgba(var(--rgb-primary-text-color),.04)}.mdc-data-table__header-cell{color:var(--primary-text-color)}.mdc-data-table__cell{color:var(--primary-text-color)}.mdc-data-table__header-row{height:56px;display:flex;border-bottom:1px solid var(--divider-color);overflow:auto}.mdc-data-table__header-row::-webkit-scrollbar{display:none}.mdc-data-table__header-row{-ms-overflow-style:none;scrollbar-width:none}.mdc-data-table__cell,.mdc-data-table__header-cell{padding-right:16px;padding-left:16px;min-width:150px;align-self:center;overflow:hidden;text-overflow:ellipsis;flex-shrink:0;box-sizing:border-box}.mdc-data-table__cell.mdc-data-table__cell--flex{display:flex;overflow:initial}.mdc-data-table__cell.mdc-data-table__cell--icon{overflow:initial}.mdc-data-table__cell--checkbox,.mdc-data-table__header-cell--checkbox{padding-left:16px;padding-right:0;padding-inline-start:16px;padding-inline-end:initial;width:60px;min-width:60px}.mdc-data-table__table{height:100%;width:100%;border:0;white-space:nowrap;position:relative}.mdc-data-table__cell{font-family:var(--ha-font-family-body);-moz-osx-font-smoothing:var(--ha-moz-osx-font-smoothing);-webkit-font-smoothing:var(--ha-font-smoothing);font-size:.875rem;line-height:var(--ha-line-height-condensed);font-weight:var(--ha-font-weight-normal);letter-spacing:.0178571429em;text-decoration:inherit;text-transform:inherit;flex-grow:0;flex-shrink:0}.mdc-data-table__cell a{color:inherit;text-decoration:none}.mdc-data-table__cell--numeric{text-align:var(--float-end)}.mdc-data-table__cell--icon{color:var(--secondary-text-color);text-align:center}.mdc-data-table__cell--icon,.mdc-data-table__header-cell--icon{min-width:64px;flex:0 0 64px!important}.mdc-data-table__cell--icon img{width:24px;height:24px}.mdc-data-table__header-cell.mdc-data-table__header-cell--icon{text-align:center}.mdc-data-table__header-cell.sortable.mdc-data-table__header-cell--icon:hover,.mdc-data-table__header-cell.sortable.mdc-data-table__header-cell--icon:not(
.not-sorted
){text-align:var(--float-start)}.mdc-data-table__cell--icon:first-child ha-domain-icon,.mdc-data-table__cell--icon:first-child ha-icon,.mdc-data-table__cell--icon:first-child ha-service-icon,.mdc-data-table__cell--icon:first-child ha-state-icon,.mdc-data-table__cell--icon:first-child ha-svg-icon,.mdc-data-table__cell--icon:first-child img{margin-left:8px;margin-inline-start:8px;margin-inline-end:initial}.mdc-data-table__cell--icon:first-child state-badge{margin-right:-8px;margin-inline-end:-8px;margin-inline-start:initial}.mdc-data-table__cell--icon-button,.mdc-data-table__cell--overflow-menu,.mdc-data-table__header-cell--icon-button,.mdc-data-table__header-cell--overflow-menu{min-width:64px;flex:0 0 64px!important;padding:8px}.mdc-data-table__cell--icon-button,.mdc-data-table__header-cell--icon-button{min-width:56px;width:56px}.mdc-data-table__cell--icon-button,.mdc-data-table__cell--overflow-menu{color:var(--secondary-text-color);text-overflow:clip}.mdc-data-table__cell--icon-button:first-child,.mdc-data-table__cell--icon-button:last-child,.mdc-data-table__header-cell--icon-button:first-child,.mdc-data-table__header-cell--icon-button:last-child{width:64px}.mdc-data-table__cell--icon-button:first-child,.mdc-data-table__cell--overflow-menu:first-child,.mdc-data-table__header-cell--icon-button:first-child,.mdc-data-table__header-cell--overflow-menu:first-child{padding-left:16px;padding-inline-start:16px;padding-inline-end:initial}.mdc-data-table__cell--icon-button:last-child,.mdc-data-table__cell--overflow-menu:last-child,.mdc-data-table__header-cell--icon-button:last-child,.mdc-data-table__header-cell--overflow-menu:last-child{padding-right:16px;padding-inline-end:16px;padding-inline-start:initial}.mdc-data-table__cell--overflow,.mdc-data-table__cell--overflow-menu,.mdc-data-table__header-cell--overflow,.mdc-data-table__header-cell--overflow-menu{overflow:initial}.mdc-data-table__cell--icon-button a{color:var(--secondary-text-color)}.mdc-data-table__header-cell{font-family:var(--ha-font-family-body);-moz-osx-font-smoothing:var(--ha-moz-osx-font-smoothing);-webkit-font-smoothing:var(--ha-font-smoothing);font-size:var(--ha-font-size-s);line-height:var(--ha-line-height-normal);font-weight:var(--ha-font-weight-medium);letter-spacing:.0071428571em;text-decoration:inherit;text-transform:inherit;text-align:var(--float-start)}.mdc-data-table__header-cell--numeric{text-align:var(--float-end)}.mdc-data-table__header-cell--numeric.sortable:hover,.mdc-data-table__header-cell--numeric.sortable:not(.not-sorted){text-align:var(--float-start)}.group-header{padding-top:12px;height:var(--data-table-row-height,52px);padding-left:12px;padding-inline-start:12px;padding-inline-end:initial;width:100%;font-weight:var(--ha-font-weight-medium);display:flex;align-items:center;cursor:pointer;background-color:var(--primary-background-color)}.group-header ha-icon-button{transition:transform .2s ease}.group-header ha-icon-button.collapsed{transform:rotate(180deg)}:host{display:block}.mdc-data-table{display:block;border-width:var(--data-table-border-width,1px);height:100%}.mdc-data-table__header-cell{overflow:hidden;position:relative}.mdc-data-table__header-cell span{position:relative;left:0px;inset-inline-start:0px;inset-inline-end:initial}.mdc-data-table__header-cell.sortable{cursor:pointer}.mdc-data-table__header-cell>*{transition:var(--float-start) .2s ease}.mdc-data-table__header-cell ha-svg-icon{top:-3px;position:absolute}.mdc-data-table__header-cell.not-sorted ha-svg-icon{left:-20px;inset-inline-start:-20px;inset-inline-end:initial}.mdc-data-table__header-cell.sortable.not-sorted:hover span,.mdc-data-table__header-cell.sortable:not(.not-sorted) span{left:24px;inset-inline-start:24px;inset-inline-end:initial}.mdc-data-table__header-cell.sortable:hover.not-sorted ha-svg-icon,.mdc-data-table__header-cell.sortable:not(.not-sorted) ha-svg-icon{left:12px;inset-inline-start:12px;inset-inline-end:initial}.table-header{border-bottom:1px solid var(--divider-color)}search-input{display:block;flex:1;--mdc-text-field-fill-color:var(--sidebar-background-color);--mdc-text-field-idle-line-color:transparent}slot[name=header]{display:block}.center{text-align:center}.secondary{color:var(--secondary-text-color)}.scroller{height:calc(100% - 57px);overflow:overlay!important}.mdc-data-table__table.auto-height .scroller{overflow-y:hidden!important}.grows{flex-grow:1;flex-shrink:1}.forceLTR{direction:ltr}.clickable{cursor:pointer}lit-virtualizer{contain:size layout!important;overscroll-behavior:contain}`]}constructor(...e){super(...e),this.narrow=!1,this.columns={},this.data=[],this.selectable=!1,this.clickable=!1,this.hasFab=!1,this.autoHeight=!1,this.id="id",this.noLabelFloat=!1,this.filter="",this.sortDirection=null,this._filterable=!1,this._filter="",this._filteredData=[],this._headerHeight=0,this._collapsedGroups=[],this._lastSelectedRowId=null,this._checkedRows=[],this._sortColumns={},this._curRequest=0,this._lastUpdate=0,this._debounceSearch=(0,_.s)(e=>{this._filter=e},100,!1),this._sortedColumns=(0,p.A)((e,t)=>t&&t.length?Object.keys(e).sort((e,a)=>{const o=t.indexOf(e),i=t.indexOf(a);if(o!==i){if(-1===o)return 1;if(-1===i)return-1}return o-i}).reduce((t,a)=>(t[a]=e[a],t),{}):e),this._keyFunction=e=>e?.[this.id]||e,this._renderRow=(e,t,a,o)=>a?a.append?s.qy`<div class="mdc-data-table__row">${a.content}</div>`:a.empty?s.qy`<div class="mdc-data-table__row empty-row"></div>`:s.qy` <div aria-rowindex="${o+2}" role="row" .rowId="${a[this.id]}" @click="${this._handleRowClick}" class="mdc-data-table__row ${(0,l.H)({"mdc-data-table__row--selected":this._checkedRows.includes(String(a[this.id])),clickable:this.clickable})}" aria-selected="${(0,d.J)(!!this._checkedRows.includes(String(a[this.id]))||void 0)}" .selectable="${!1!==a.selectable}"> ${this.selectable?s.qy` <div class="mdc-data-table__cell mdc-data-table__cell--checkbox" role="cell"> <ha-checkbox class="mdc-data-table__row-checkbox" @click="${this._handleRowCheckboxClicked}" .rowId="${a[this.id]}" .disabled="${!1===a.selectable}" .checked="${this._checkedRows.includes(String(a[this.id]))}"> </ha-checkbox> </div> `:""} ${Object.entries(e).map(([o,i])=>t&&!i.main&&!i.showNarrow||i.hidden||(this.columnOrder&&this.columnOrder.includes(o)?this.hiddenColumns?.includes(o)??i.defaultHidden:i.defaultHidden)?s.s6:s.qy` <div @mouseover="${this._setTitle}" @focus="${this._setTitle}" role="${i.main?"rowheader":"cell"}" class="mdc-data-table__cell ${(0,l.H)({"mdc-data-table__cell--flex":"flex"===i.type,"mdc-data-table__cell--numeric":"numeric"===i.type,"mdc-data-table__cell--icon":"icon"===i.type,"mdc-data-table__cell--icon-button":"icon-button"===i.type,"mdc-data-table__cell--overflow-menu":"overflow-menu"===i.type,"mdc-data-table__cell--overflow":"overflow"===i.type,forceLTR:Boolean(i.forceLTR)})}" style="${(0,h.W)({minWidth:i.minWidth,maxWidth:i.maxWidth,flex:i.flex||1})}"> ${i.template?i.template(a):t&&i.main?s.qy`<div class="primary">${a[o]}</div> <div class="secondary"> ${Object.entries(e).filter(([e,t])=>!(t.hidden||t.main||t.showNarrow||(this.columnOrder&&this.columnOrder.includes(e)?this.hiddenColumns?.includes(e)??t.defaultHidden:t.defaultHidden))).map(([e,t],o)=>s.qy`${0!==o?"  ":s.s6}${t.template?t.template(a):a[e]}`)} </div> ${i.extraTemplate?i.extraTemplate(a):s.s6}`:s.qy`${a[o]}${i.extraTemplate?i.extraTemplate(a):s.s6}`} </div> `)} </div> `:s.s6,this._groupData=(0,p.A)((e,t,a,o,i,r,l,n,c)=>{if(a||o||i){let d=[...e];if(i){const e=n===i,a=b(d,e=>e[i]);a.undefined&&(a[k]=a.undefined,delete a.undefined);const o=Object.keys(a).sort((t,a)=>{if(!r&&e){const e=(0,m.xL)(t,a,this.hass.locale.language);return"asc"===c?e:-1*e}const o=r?.indexOf(t)??-1,i=r?.indexOf(a)??-1;return o!==i?-1===o?1:-1===i?-1:o-i:(0,m.xL)(["","-",""].includes(t)?"zzz":t,["","-",""].includes(a)?"zzz":a,this.hass.locale.language)}).reduce((e,t)=>{const o=[t,a[t]];return e.push(o),e},[]),h=[];o.forEach(([e,a])=>{const o=l.includes(e);h.push({append:!0,selectable:!1,content:s.qy`<div class="mdc-data-table__cell group-header" role="cell" .group="${e}" @click="${this._collapseGroup}"> <ha-icon-button .path="${"M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z"}" .label="${this.hass.localize("ui.components.data-table."+(o?"expand":"collapse"))}" class="${o?"collapsed":""}"> </ha-icon-button> ${e===k?t("ui.components.data-table.ungrouped"):e||""} </div>`}),l.includes(e)||h.push(...a)}),d=h}return a&&d.push({append:!0,selectable:!1,content:a}),o&&d.push({empty:!0}),d}return e}),this._memFilterData=(0,p.A)((e,t,a)=>((e,t,a)=>x().filterData(e,t,a))(e,t,a)),this._handleRowCheckboxClicked=e=>{const t=e.currentTarget,a=t.rowId,o=this._groupData(this._filteredData,this.localizeFunc||this.hass.localize,this.appendRow,this.hasFab,this.groupColumn,this.groupOrder,this._collapsedGroups,this.sortColumn,this.sortDirection);if(!1===o.find(e=>e[this.id]===a)?.selectable)return;const i=o.findIndex(e=>e[this.id]===a);if(e instanceof MouseEvent&&e.shiftKey&&null!==this._lastSelectedRowId){const e=o.findIndex(e=>e[this.id]===this._lastSelectedRowId);e>-1&&i>-1&&(this._checkedRows=[...this._checkedRows,...this._selectRange(o,e,i)])}else t.checked?this._checkedRows=this._checkedRows.filter(e=>e!==a):this._checkedRows.includes(a)||(this._checkedRows=[...this._checkedRows,a]);i>-1&&(this._lastSelectedRowId=a),this._checkedRowsChanged()},this._handleRowClick=e=>{if(e.composedPath().find(e=>["ha-checkbox","ha-button","ha-button","ha-icon-button","ha-assist-chip"].includes(e.localName)))return;const t=e.currentTarget.rowId;(0,n.r)(this,"row-click",{id:t},{bubbles:!1})},this._collapseGroup=e=>{const t=e.currentTarget.group;this._collapsedGroups.includes(t)?this._collapsedGroups=this._collapsedGroups.filter(e=>e!==t):this._collapsedGroups=[...this._collapsedGroups,t],this._lastSelectedRowId=null,(0,n.r)(this,"collapsed-changed",{value:this._collapsedGroups})}}}(0,o.__decorate)([(0,r.MZ)({attribute:!1})],$.prototype,"hass",void 0),(0,o.__decorate)([(0,r.MZ)({attribute:!1})],$.prototype,"localizeFunc",void 0),(0,o.__decorate)([(0,r.MZ)({type:Boolean})],$.prototype,"narrow",void 0),(0,o.__decorate)([(0,r.MZ)({type:Object})],$.prototype,"columns",void 0),(0,o.__decorate)([(0,r.MZ)({type:Array})],$.prototype,"data",void 0),(0,o.__decorate)([(0,r.MZ)({type:Boolean})],$.prototype,"selectable",void 0),(0,o.__decorate)([(0,r.MZ)({type:Boolean})],$.prototype,"clickable",void 0),(0,o.__decorate)([(0,r.MZ)({attribute:"has-fab",type:Boolean})],$.prototype,"hasFab",void 0),(0,o.__decorate)([(0,r.MZ)({attribute:!1})],$.prototype,"appendRow",void 0),(0,o.__decorate)([(0,r.MZ)({type:Boolean,attribute:"auto-height"})],$.prototype,"autoHeight",void 0),(0,o.__decorate)([(0,r.MZ)({type:String})],$.prototype,"id",void 0),(0,o.__decorate)([(0,r.MZ)({attribute:!1,type:String})],$.prototype,"noDataText",void 0),(0,o.__decorate)([(0,r.MZ)({attribute:!1,type:String})],$.prototype,"searchLabel",void 0),(0,o.__decorate)([(0,r.MZ)({type:Boolean,attribute:"no-label-float"})],$.prototype,"noLabelFloat",void 0),(0,o.__decorate)([(0,r.MZ)({type:String})],$.prototype,"filter",void 0),(0,o.__decorate)([(0,r.MZ)({attribute:!1})],$.prototype,"groupColumn",void 0),(0,o.__decorate)([(0,r.MZ)({attribute:!1})],$.prototype,"groupOrder",void 0),(0,o.__decorate)([(0,r.MZ)({attribute:!1})],$.prototype,"sortColumn",void 0),(0,o.__decorate)([(0,r.MZ)({attribute:!1})],$.prototype,"sortDirection",void 0),(0,o.__decorate)([(0,r.MZ)({attribute:!1})],$.prototype,"initialCollapsedGroups",void 0),(0,o.__decorate)([(0,r.MZ)({attribute:!1})],$.prototype,"hiddenColumns",void 0),(0,o.__decorate)([(0,r.MZ)({attribute:!1})],$.prototype,"columnOrder",void 0),(0,o.__decorate)([(0,r.wk)()],$.prototype,"_filterable",void 0),(0,o.__decorate)([(0,r.wk)()],$.prototype,"_filter",void 0),(0,o.__decorate)([(0,r.wk)()],$.prototype,"_filteredData",void 0),(0,o.__decorate)([(0,r.wk)()],$.prototype,"_headerHeight",void 0),(0,o.__decorate)([(0,r.P)("slot[name='header']")],$.prototype,"_header",void 0),(0,o.__decorate)([(0,r.wk)()],$.prototype,"_collapsedGroups",void 0),(0,o.__decorate)([(0,r.wk)()],$.prototype,"_lastSelectedRowId",void 0),(0,o.__decorate)([(0,u.a)(".scroller")],$.prototype,"_savedScrollPos",void 0),(0,o.__decorate)([(0,r.Ls)({passive:!0})],$.prototype,"_saveScrollPos",null),(0,o.__decorate)([(0,r.Ls)({passive:!0})],$.prototype,"_scrollContent",null),$=(0,o.__decorate)([(0,r.EM)("ha-data-table")],$);const C=()=>a.e("6955").then(a.bind(a,20873));a(72554),a(76538),a(67134),a(58491),a(16443),a(50888);var M=a(10583),L=a(33764),A=a(71585),H=a(28345),S=a(20921),z=a(3195),Z=a(29902);class R extends S.X{constructor(...e){super(...e),this.fieldTag=H.eu`ha-outlined-field`}}R.styles=[Z.R,z.R,s.AH`.container::before{display:block;content:"";position:absolute;inset:0;background-color:var(--ha-outlined-field-container-color,transparent);opacity:var(--ha-outlined-field-container-opacity, 1);border-start-start-radius:var(--_container-shape-start-start);border-start-end-radius:var(--_container-shape-start-end);border-end-start-radius:var(--_container-shape-end-start);border-end-end-radius:var(--_container-shape-end-end)}`],R=(0,o.__decorate)([(0,r.EM)("ha-outlined-field")],R);class D extends M.g{constructor(...e){super(...e),this.fieldTag=H.eu`ha-outlined-field`}}D.styles=[A.R,L.R,s.AH`:host{--md-sys-color-on-surface:var(--primary-text-color);--md-sys-color-primary:var(--primary-text-color);--md-outlined-text-field-input-text-color:var(--primary-text-color);--md-sys-color-on-surface-variant:var(--secondary-text-color);--md-outlined-field-outline-color:var(--outline-color);--md-outlined-field-focus-outline-color:var(--primary-color);--md-outlined-field-hover-outline-color:var(--outline-hover-color)}:host([dense]){--md-outlined-field-top-space:5.5px;--md-outlined-field-bottom-space:5.5px;--md-outlined-field-container-shape-start-start:10px;--md-outlined-field-container-shape-start-end:10px;--md-outlined-field-container-shape-end-end:10px;--md-outlined-field-container-shape-end-start:10px;--md-outlined-field-focus-outline-width:1px;--md-outlined-field-with-leading-content-leading-space:8px;--md-outlined-field-with-trailing-content-trailing-space:8px;--md-outlined-field-content-space:8px;--mdc-icon-size:var(--md-input-chip-icon-size, 18px)}.input{font-family:var(--ha-font-family-body)}`],D=(0,o.__decorate)([(0,r.EM)("ha-outlined-text-field")],D);class B extends s.WF{focus(){this._input?.focus()}render(){const e=this.placeholder||this.hass.localize("ui.common.search");return s.qy` <ha-outlined-text-field .autofocus="${this.autofocus}" .aria-label="${this.label||this.hass.localize("ui.common.search")}" .placeholder="${e}" .value="${this.filter||""}" icon .iconTrailing="${this.filter||this.suffix}" @input="${this._filterInputChanged}" dense> <slot name="prefix" slot="leading-icon"> <ha-svg-icon tabindex="-1" class="prefix" .path="${"M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z"}"></ha-svg-icon> </slot> ${this.filter?s.qy`<ha-icon-button aria-label="Clear input" slot="trailing-icon" @click="${this._clearSearch}" .path="${"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"}"> </ha-icon-button>`:s.s6} </ha-outlined-text-field> `}async _filterChanged(e){(0,n.r)(this,"value-changed",{value:String(e)})}async _filterInputChanged(e){this._filterChanged(e.target.value)}async _clearSearch(){this._filterChanged("")}constructor(...e){super(...e),this.suffix=!1,this.autofocus=!1}}B.styles=s.AH`:host{display:inline-flex;z-index:0}ha-outlined-text-field{display:block;width:100%;--ha-outlined-field-container-color:var(--card-background-color)}ha-icon-button,ha-svg-icon{--mdc-icon-button-size:24px;height:var(--mdc-icon-button-size);display:flex;color:var(--primary-text-color)}ha-svg-icon{outline:0}`,(0,o.__decorate)([(0,r.MZ)({attribute:!1})],B.prototype,"hass",void 0),(0,o.__decorate)([(0,r.MZ)()],B.prototype,"filter",void 0),(0,o.__decorate)([(0,r.MZ)({type:Boolean})],B.prototype,"suffix",void 0),(0,o.__decorate)([(0,r.MZ)({type:Boolean})],B.prototype,"autofocus",void 0),(0,o.__decorate)([(0,r.MZ)({type:String})],B.prototype,"label",void 0),(0,o.__decorate)([(0,r.MZ)({type:String})],B.prototype,"placeholder",void 0),(0,o.__decorate)([(0,r.P)("ha-outlined-text-field",!0)],B.prototype,"_input",void 0),B=(0,o.__decorate)([(0,r.EM)("search-input-outlined")],B);var T=a(46056);a(86622);const q="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",F="M6,13H18V11H6M3,6V8H21V6M10,18H14V16H10V18Z",P="M21 8H3V6H21V8M13.81 16H10V18H13.09C13.21 17.28 13.46 16.61 13.81 16M18 11H6V13H18V11M21.12 15.46L19 17.59L16.88 15.46L15.47 16.88L17.59 19L15.47 21.12L16.88 22.54L19 20.41L21.12 22.54L22.54 21.12L20.41 19L22.54 16.88L21.12 15.46Z",E="M3,5H9V11H3V5M5,7V9H7V7H5M11,7H21V9H11V7M11,15H21V17H11V15M5,20L1.5,16.5L2.91,15.09L5,17.17L9.59,12.59L11,14L5,20Z",O="M7,10L12,15L17,10H7Z";class V extends((0,T.b)(s.WF)){supportedShortcuts(){return{f:()=>this._searchInput.focus()}}clearSelection(){this._dataTable.clearSelection()}willUpdate(){this.hasUpdated||(this.initialGroupColumn&&this.columns[this.initialGroupColumn]&&this._setGroupColumn(this.initialGroupColumn),this.initialSorting&&this.columns[this.initialSorting.column]&&(this._sortColumn=this.initialSorting.column,this._sortDirection=this.initialSorting.direction))}render(){const e=this.localizeFunc||this.hass.localize,t=this._showPaneController.value??!this.narrow,a=this.hasFilters?s.qy`<div class="relative"> <ha-assist-chip .label="${e("ui.components.subpage-data-table.filters")}" .active="${this.filters}" @click="${this._toggleFilters}"> <ha-svg-icon slot="icon" .path="${F}"></ha-svg-icon> </ha-assist-chip> ${this.filters?s.qy`<div class="badge">${this.filters}</div>`:s.s6} </div>`:s.s6,o=this.selectable&&!this._selectMode?s.qy`<ha-assist-chip class="has-dropdown select-mode-chip" .active="${this._selectMode}" @click="${this._enableSelectMode}" .title="${e("ui.components.subpage-data-table.enter_selection_mode")}"> <ha-svg-icon slot="icon" .path="${E}"></ha-svg-icon> </ha-assist-chip>`:s.s6,i=s.qy`<search-input-outlined .hass="${this.hass}" .filter="${this.filter}" @value-changed="${this._handleSearchChange}" .label="${this.searchLabel}" .placeholder="${this.searchLabel}"> </search-input-outlined>`,r=Object.values(this.columns).find(e=>e.sortable)?s.qy` <ha-md-button-menu positioning="popover"> <ha-assist-chip slot="trigger" .label="${e("ui.components.subpage-data-table.sort_by",{sortColumn:this._sortColumn&&this.columns[this._sortColumn]&&` ${this.columns[this._sortColumn].title||this.columns[this._sortColumn].label}`||""})}"> <ha-svg-icon slot="trailing-icon" .path="${O}"></ha-svg-icon> </ha-assist-chip> ${Object.entries(this.columns).map(([e,t])=>t.sortable?s.qy` <ha-md-menu-item .value="${e}" @click="${this._handleSortBy}" @keydown="${this._handleSortBy}" keep-open .selected="${e===this._sortColumn}" class="${(0,l.H)({selected:e===this._sortColumn})}"> ${this._sortColumn===e?s.qy` <ha-svg-icon slot="end" .path="${"desc"===this._sortDirection?"M11,4H13V16L18.5,10.5L19.92,11.92L12,19.84L4.08,11.92L5.5,10.5L11,16V4Z":"M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z"}"></ha-svg-icon> `:s.s6} ${t.title||t.label} </ha-md-menu-item> `:s.s6)} </ha-md-button-menu> `:s.s6,n=Object.values(this.columns).find(e=>e.groupable)?s.qy` <ha-md-button-menu positioning="popover"> <ha-assist-chip .label="${e("ui.components.subpage-data-table.group_by",{groupColumn:this._groupColumn&&this.columns[this._groupColumn]?` ${this.columns[this._groupColumn].title||this.columns[this._groupColumn].label}`:""})}" slot="trigger"> <ha-svg-icon slot="trailing-icon" .path="${O}"></ha-svg-icon></ha-assist-chip> ${Object.entries(this.columns).map(([e,t])=>t.groupable?s.qy` <ha-md-menu-item .value="${e}" .clickAction="${this._handleGroupBy}" .selected="${e===this._groupColumn}" class="${(0,l.H)({selected:e===this._groupColumn})}"> ${t.title||t.label} </ha-md-menu-item> `:s.s6)} <ha-md-menu-item .value="${""}" .clickAction="${this._handleGroupBy}" .selected="${!this._groupColumn}" class="${(0,l.H)({selected:!this._groupColumn})}"> ${e("ui.components.subpage-data-table.dont_group_by")} </ha-md-menu-item> <ha-md-divider role="separator" tabindex="-1"></ha-md-divider> <ha-md-menu-item .clickAction="${this._collapseAllGroups}" .disabled="${!this._groupColumn}"> <ha-svg-icon slot="start" .path="${"M16.59,5.41L15.17,4L12,7.17L8.83,4L7.41,5.41L12,10M7.41,18.59L8.83,20L12,16.83L15.17,20L16.58,18.59L12,14L7.41,18.59Z"}"></ha-svg-icon> ${e("ui.components.subpage-data-table.collapse_all_groups")} </ha-md-menu-item> <ha-md-menu-item .clickAction="${this._expandAllGroups}" .disabled="${!this._groupColumn}"> <ha-svg-icon slot="start" .path="${"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}"></ha-svg-icon> ${e("ui.components.subpage-data-table.expand_all_groups")} </ha-md-menu-item> </ha-md-button-menu> `:s.s6,c=s.qy`<ha-assist-chip class="has-dropdown select-mode-chip" @click="${this._openSettings}" .title="${e("ui.components.subpage-data-table.settings")}"> <ha-svg-icon slot="icon" .path="${"M3 3H17C18.11 3 19 3.9 19 5V12.08C17.45 11.82 15.92 12.18 14.68 13H11V17H12.08C11.97 17.68 11.97 18.35 12.08 19H3C1.9 19 1 18.11 1 17V5C1 3.9 1.9 3 3 3M3 7V11H9V7H3M11 7V11H17V7H11M3 13V17H9V13H3M22.78 19.32L21.71 18.5C21.73 18.33 21.75 18.17 21.75 18S21.74 17.67 21.71 17.5L22.77 16.68C22.86 16.6 22.89 16.47 22.83 16.36L21.83 14.63C21.77 14.5 21.64 14.5 21.5 14.5L20.28 15C20 14.82 19.74 14.65 19.43 14.53L19.24 13.21C19.23 13.09 19.12 13 19 13H17C16.88 13 16.77 13.09 16.75 13.21L16.56 14.53C16.26 14.66 15.97 14.82 15.71 15L14.47 14.5C14.36 14.5 14.23 14.5 14.16 14.63L13.16 16.36C13.1 16.47 13.12 16.6 13.22 16.68L14.28 17.5C14.26 17.67 14.25 17.83 14.25 18S14.26 18.33 14.28 18.5L13.22 19.32C13.13 19.4 13.1 19.53 13.16 19.64L14.16 21.37C14.22 21.5 14.35 21.5 14.47 21.5L15.71 21C15.97 21.18 16.25 21.35 16.56 21.47L16.75 22.79C16.77 22.91 16.87 23 17 23H19C19.12 23 19.23 22.91 19.25 22.79L19.44 21.47C19.74 21.34 20 21.18 20.28 21L21.5 21.5C21.64 21.5 21.77 21.5 21.84 21.37L22.84 19.64C22.9 19.53 22.87 19.4 22.78 19.32M18 19.5C17.17 19.5 16.5 18.83 16.5 18S17.18 16.5 18 16.5 19.5 17.17 19.5 18 18.84 19.5 18 19.5Z"}"></ha-svg-icon> </ha-assist-chip>`;return s.qy` <hass-tabs-subpage .hass="${this.hass}" .localizeFunc="${this.localizeFunc}" .narrow="${this.narrow}" .isWide="${this.isWide}" .backPath="${this.backPath}" .backCallback="${this.backCallback}" .route="${this.route}" .tabs="${this.tabs}" .mainPage="${this.mainPage}" .supervisor="${this.supervisor}" .pane="${t&&this.showFilters}" @sorting-changed="${this._sortingChanged}"> ${this._selectMode?s.qy`<div class="selection-bar" slot="toolbar"> <div class="selection-controls"> <ha-icon-button .path="${q}" @click="${this._disableSelectMode}" .label="${e("ui.components.subpage-data-table.exit_selection_mode")}"></ha-icon-button> <ha-md-button-menu> <ha-assist-chip .label="${e("ui.components.subpage-data-table.select")}" slot="trigger"> <ha-svg-icon slot="icon" .path="${E}"></ha-svg-icon> <ha-svg-icon slot="trailing-icon" .path="${O}"></ha-svg-icon></ha-assist-chip> <ha-md-menu-item .value="${void 0}" .clickAction="${this._selectAll}"> <div slot="headline"> ${e("ui.components.subpage-data-table.select_all")} </div> </ha-md-menu-item> <ha-md-menu-item .value="${void 0}" .clickAction="${this._selectNone}"> <div slot="headline"> ${e("ui.components.subpage-data-table.select_none")} </div> </ha-md-menu-item> <ha-md-divider role="separator" tabindex="-1"></ha-md-divider> <ha-md-menu-item .value="${void 0}" .clickAction="${this._disableSelectMode}"> <div slot="headline"> ${e("ui.components.subpage-data-table.exit_selection_mode")} </div> </ha-md-menu-item> </ha-md-button-menu> ${void 0!==this.selected?s.qy`<p> ${e("ui.components.subpage-data-table.selected",{selected:this.selected||"0"})} </p>`:s.s6} </div> <div class="center-vertical"> <slot name="selection-bar"></slot> </div> </div>`:s.s6} ${this.showFilters&&t?s.qy`<div class="pane" slot="pane"> <div class="table-header"> <ha-assist-chip .label="${e("ui.components.subpage-data-table.filters")}" active @click="${this._toggleFilters}"> <ha-svg-icon slot="icon" .path="${F}"></ha-svg-icon> </ha-assist-chip> ${this.filters?s.qy`<ha-icon-button .path="${P}" @click="${this._clearFilters}" .label="${e("ui.components.subpage-data-table.clear_filter")}"></ha-icon-button>`:s.s6} </div> <div class="pane-content"> <slot name="filter-pane"></slot> </div> </div>`:s.s6} ${this.empty?s.qy`<div class="center"> <slot name="empty">${this.noDataText}</slot> </div>`:s.qy`<div slot="toolbar-icon"> <slot name="toolbar-icon"></slot> </div> ${this.narrow?s.qy` <div slot="header"> <slot name="header"> <div class="search-toolbar">${i}</div> </slot> </div> `:""} <ha-data-table .hass="${this.hass}" .localize="${e}" .narrow="${this.narrow}" .columns="${this.columns}" .data="${this.data}" .noDataText="${this.noDataText}" .filter="${this.filter}" .selectable="${this._selectMode}" .hasFab="${this.hasFab}" .id="${this.id}" .clickable="${this.clickable}" .appendRow="${this.appendRow}" .sortColumn="${this._sortColumn}" .sortDirection="${this._sortDirection}" .groupColumn="${this._groupColumn}" .groupOrder="${this.groupOrder}" .initialCollapsedGroups="${this.initialCollapsedGroups}" .columnOrder="${this.columnOrder}" .hiddenColumns="${this.hiddenColumns}"> ${this.narrow?s.qy` <div slot="header"> <slot name="top-header"></slot> </div> <div slot="header-row" class="narrow-header-row"> ${this.hasFilters&&!this.showFilters?s.qy`${a}`:s.s6} ${o} <div class="flex"></div> ${n}${r}${c} </div> `:s.qy` <div slot="header"> <slot name="top-header"></slot> <slot name="header"> <div class="table-header"> ${this.hasFilters&&!this.showFilters?s.qy`${a}`:s.s6}${o}${i}${n}${r}${c} </div> </slot> </div> `} </ha-data-table>`} <div slot="fab"><slot name="fab"></slot></div> </hass-tabs-subpage> ${this.showFilters&&!t?s.qy`<ha-dialog open .heading="${e("ui.components.subpage-data-table.filters")}"> <ha-dialog-header slot="heading"> <ha-icon-button slot="navigationIcon" .path="${q}" @click="${this._toggleFilters}" .label="${e("ui.components.subpage-data-table.close_filter")}"></ha-icon-button> <span slot="title">${e("ui.components.subpage-data-table.filters")}</span> ${this.filters?s.qy`<ha-icon-button slot="actionItems" @click="${this._clearFilters}" .path="${P}" .label="${e("ui.components.subpage-data-table.clear_filter")}"></ha-icon-button>`:s.s6} </ha-dialog-header> <div class="filter-dialog-content"> <slot name="filter-pane"></slot> </div> <div slot="primaryAction"> <ha-button @click="${this._toggleFilters}"> ${e("ui.components.subpage-data-table.show_results",{number:this.data.length})} </ha-button> </div> </ha-dialog>`:s.s6} `}_clearFilters(){(0,n.r)(this,"clear-filter")}_toggleFilters(){this.showFilters=!this.showFilters}_sortingChanged(e){this._sortDirection=e.detail.direction,this._sortColumn=this._sortDirection?e.detail.column:void 0}_handleSortBy(e){if("keydown"===e.type&&"Enter"!==e.key&&" "!==e.key)return;const t=e.currentTarget.value;this._sortDirection&&this._sortColumn===t?"asc"===this._sortDirection?this._sortDirection="desc":this._sortDirection=null:this._sortDirection="asc",this._sortColumn=null===this._sortDirection?void 0:t,(0,n.r)(this,"sorting-changed",{column:t,direction:this._sortDirection})}_setGroupColumn(e){this._groupColumn=e,(0,n.r)(this,"grouping-changed",{value:e})}_openSettings(){var e,t;e=this,t={columns:this.columns,hiddenColumns:this.hiddenColumns,columnOrder:this.columnOrder,onUpdate:(e,t)=>{this.columnOrder=e,this.hiddenColumns=t,(0,n.r)(this,"columns-changed",{columnOrder:e,hiddenColumns:t})},localizeFunc:this.localizeFunc},(0,n.r)(e,"show-dialog",{dialogTag:"dialog-data-table-settings",dialogImport:C,dialogParams:t})}_enableSelectMode(){this._selectMode=!0}_handleSearchChange(e){this.filter!==e.detail.value&&(this.filter=e.detail.value,(0,n.r)(this,"search-changed",{value:this.filter}))}constructor(...e){super(...e),this.isWide=!1,this.narrow=!1,this.supervisor=!1,this.mainPage=!1,this.initialCollapsedGroups=[],this.columns={},this.data=[],this.selectable=!1,this.clickable=!1,this.hasFab=!1,this.id="id",this.filter="",this.empty=!1,this.tabs=[],this.hasFilters=!1,this.showFilters=!1,this._sortDirection=null,this._selectMode=!1,this._showPaneController=new i.P(this,{callback:e=>e[0]?.contentRect.width>750}),this._handleGroupBy=e=>{this._setGroupColumn(e.value)},this._collapseAllGroups=()=>{this._dataTable.collapseAllGroups()},this._expandAllGroups=()=>{this._dataTable.expandAllGroups()},this._disableSelectMode=()=>{this._selectMode=!1,this._dataTable.clearSelection()},this._selectAll=()=>{this._dataTable.selectAll()},this._selectNone=()=>{this._dataTable.clearSelection()}}}V.styles=s.AH`:host{display:block;height:100%}ha-data-table{width:100%;height:100%;--data-table-border-width:0}.pane,:host(:not([narrow])) ha-data-table{height:calc(100vh - 1px - var(--header-height,0px) - var(--safe-area-inset-top,0px) - var(--safe-area-inset-bottom,0px));display:block}.pane-content{height:calc(100vh - 1px - var(--header-height,0px) - var(--header-height,0px) - var(--safe-area-inset-top,0px) - var(--safe-area-inset-bottom,0px));display:flex;flex-direction:column}:host([narrow]) hass-tabs-subpage{--main-title-margin:0}:host([narrow]){--expansion-panel-summary-padding:0 16px}.table-header{display:flex;align-items:center;--mdc-shape-small:0;height:56px;width:100%;justify-content:space-between;padding:0 16px;gap:var(--ha-space-4);box-sizing:border-box;background:var(--primary-background-color);border-bottom:1px solid var(--divider-color)}search-input-outlined{flex:1}.search-toolbar{display:flex;align-items:center;color:var(--secondary-text-color)}.filters{--mdc-text-field-fill-color:var(--input-fill-color);--mdc-text-field-idle-line-color:var(--input-idle-line-color);--mdc-shape-small:4px;--text-field-overflow:initial;display:flex;justify-content:flex-end;color:var(--primary-text-color)}.active-filters{color:var(--primary-text-color);position:relative;display:flex;align-items:center;padding:2px 2px 2px 8px;margin-left:4px;margin-inline-start:4px;margin-inline-end:initial;font-size:var(--ha-font-size-m);width:max-content;cursor:initial;direction:var(--direction)}.active-filters ha-svg-icon{color:var(--primary-color)}.active-filters::before{background-color:var(--primary-color);opacity:.12;border-radius:var(--ha-border-radius-sm);position:absolute;top:0;right:0;bottom:0;left:0;content:""}.center{display:flex;align-items:center;justify-content:center;text-align:center;box-sizing:border-box;height:100%;width:100%;padding:16px}.badge{position:absolute;top:-4px;right:-4px;inset-inline-end:-4px;inset-inline-start:initial;min-width:16px;box-sizing:border-box;border-radius:var(--ha-border-radius-circle);font-size:var(--ha-font-size-xs);font-weight:var(--ha-font-weight-normal);background-color:var(--primary-color);line-height:var(--ha-line-height-normal);text-align:center;padding:0px 2px;color:var(--text-primary-color)}.narrow-header-row{display:flex;align-items:center;min-width:100%;gap:var(--ha-space-4);padding:0 16px;box-sizing:border-box;overflow-x:scroll;-ms-overflow-style:none;scrollbar-width:none}.narrow-header-row .flex{flex:1;margin-left:-16px}.selection-bar{background:rgba(var(--rgb-primary-color),.1);width:100%;height:100%;display:flex;align-items:center;justify-content:space-between;padding:8px 12px;box-sizing:border-box;font-size:var(--ha-font-size-m);--ha-assist-chip-container-color:var(--card-background-color)}.selection-controls{display:flex;align-items:center;gap:var(--ha-space-2)}.selection-controls p{margin-left:8px;margin-inline-start:8px;margin-inline-end:initial}.center-vertical{display:flex;align-items:center;gap:var(--ha-space-2)}.relative{position:relative}ha-assist-chip{--ha-assist-chip-container-shape:10px;--ha-assist-chip-container-color:var(--card-background-color)}.select-mode-chip{--md-assist-chip-icon-label-space:0;--md-assist-chip-trailing-space:8px}ha-dialog{--mdc-dialog-min-width:100vw;--mdc-dialog-max-width:100vw;--mdc-dialog-min-height:100%;--mdc-dialog-max-height:100%;--vertical-align-dialog:flex-end;--ha-dialog-border-radius:var(--ha-border-radius-square);--dialog-content-padding:0}.filter-dialog-content{height:calc(100vh - 70px - var(--header-height,0px) - var(--safe-area-inset-top,0px) - var(--safe-area-inset-bottom,0px));display:flex;flex-direction:column}ha-md-button-menu ha-assist-chip{--md-assist-chip-trailing-space:8px}`,(0,o.__decorate)([(0,r.MZ)({attribute:!1})],V.prototype,"hass",void 0),(0,o.__decorate)([(0,r.MZ)({attribute:!1})],V.prototype,"localizeFunc",void 0),(0,o.__decorate)([(0,r.MZ)({attribute:"is-wide",type:Boolean})],V.prototype,"isWide",void 0),(0,o.__decorate)([(0,r.MZ)({type:Boolean,reflect:!0})],V.prototype,"narrow",void 0),(0,o.__decorate)([(0,r.MZ)({type:Boolean})],V.prototype,"supervisor",void 0),(0,o.__decorate)([(0,r.MZ)({type:Boolean,attribute:"main-page"})],V.prototype,"mainPage",void 0),(0,o.__decorate)([(0,r.MZ)({attribute:!1})],V.prototype,"initialCollapsedGroups",void 0),(0,o.__decorate)([(0,r.MZ)({type:Object})],V.prototype,"columns",void 0),(0,o.__decorate)([(0,r.MZ)({type:Array})],V.prototype,"data",void 0),(0,o.__decorate)([(0,r.MZ)({type:Boolean})],V.prototype,"selectable",void 0),(0,o.__decorate)([(0,r.MZ)({type:Boolean})],V.prototype,"clickable",void 0),(0,o.__decorate)([(0,r.MZ)({attribute:"has-fab",type:Boolean})],V.prototype,"hasFab",void 0),(0,o.__decorate)([(0,r.MZ)({attribute:!1})],V.prototype,"appendRow",void 0),(0,o.__decorate)([(0,r.MZ)({type:String})],V.prototype,"id",void 0),(0,o.__decorate)([(0,r.MZ)({type:String})],V.prototype,"filter",void 0),(0,o.__decorate)([(0,r.MZ)({attribute:!1})],V.prototype,"searchLabel",void 0),(0,o.__decorate)([(0,r.MZ)({type:Number})],V.prototype,"filters",void 0),(0,o.__decorate)([(0,r.MZ)({type:Number})],V.prototype,"selected",void 0),(0,o.__decorate)([(0,r.MZ)({type:String,attribute:"back-path"})],V.prototype,"backPath",void 0),(0,o.__decorate)([(0,r.MZ)({attribute:!1})],V.prototype,"backCallback",void 0),(0,o.__decorate)([(0,r.MZ)({attribute:!1,type:String})],V.prototype,"noDataText",void 0),(0,o.__decorate)([(0,r.MZ)({type:Boolean})],V.prototype,"empty",void 0),(0,o.__decorate)([(0,r.MZ)({attribute:!1})],V.prototype,"route",void 0),(0,o.__decorate)([(0,r.MZ)({attribute:!1})],V.prototype,"tabs",void 0),(0,o.__decorate)([(0,r.MZ)({attribute:"has-filters",type:Boolean})],V.prototype,"hasFilters",void 0),(0,o.__decorate)([(0,r.MZ)({attribute:"show-filters",type:Boolean})],V.prototype,"showFilters",void 0),(0,o.__decorate)([(0,r.MZ)({attribute:!1})],V.prototype,"initialSorting",void 0),(0,o.__decorate)([(0,r.MZ)({attribute:!1})],V.prototype,"initialGroupColumn",void 0),(0,o.__decorate)([(0,r.MZ)({attribute:!1})],V.prototype,"groupOrder",void 0),(0,o.__decorate)([(0,r.MZ)({attribute:!1})],V.prototype,"columnOrder",void 0),(0,o.__decorate)([(0,r.MZ)({attribute:!1})],V.prototype,"hiddenColumns",void 0),(0,o.__decorate)([(0,r.wk)()],V.prototype,"_sortColumn",void 0),(0,o.__decorate)([(0,r.wk)()],V.prototype,"_sortDirection",void 0),(0,o.__decorate)([(0,r.wk)()],V.prototype,"_groupColumn",void 0),(0,o.__decorate)([(0,r.wk)()],V.prototype,"_selectMode",void 0),(0,o.__decorate)([(0,r.P)("ha-data-table",!0)],V.prototype,"_dataTable",void 0),(0,o.__decorate)([(0,r.P)("search-input-outlined")],V.prototype,"_searchInput",void 0),V=(0,o.__decorate)([(0,r.EM)("hass-tabs-subpage-data-table")],V)},46056:function(e,t,a){a.d(t,{b:()=>o});a(18111),a(13579);const o=e=>class extends e{connectedCallback(){super.connectedCallback(),this.addKeyboardShortcuts()}disconnectedCallback(){this.removeKeyboardShortcuts(),super.disconnectedCallback()}addKeyboardShortcuts(){this._listenersAdded||(this._listenersAdded=!0,window.addEventListener("keydown",this._keydownEvent))}removeKeyboardShortcuts(){this._listenersAdded=!1,window.removeEventListener("keydown",this._keydownEvent)}supportedShortcuts(){return{}}supportedSingleKeyShortcuts(){return{}}constructor(...e){super(...e),this._keydownEvent=e=>{const t=this.supportedShortcuts(),a=e.shiftKey?e.key.toUpperCase():e.key;if((e.ctrlKey||e.metaKey)&&!e.altKey&&a in t){if(!(e=>{if(e.some(e=>"tagName"in e&&("HA-MENU"===e.tagName||"HA-CODE-EDITOR"===e.tagName)))return!1;const t=e[0];if("TEXTAREA"===t.tagName)return!1;if("HA-SELECT"===t.parentElement?.tagName)return!1;if("INPUT"!==t.tagName)return!0;switch(t.type){case"button":case"checkbox":case"hidden":case"radio":case"range":return!0;default:return!1}})(e.composedPath()))return;if(window.getSelection()?.toString())return;return e.preventDefault(),void t[a]()}const o=this.supportedSingleKeyShortcuts();a in o&&(e.preventDefault(),o[a]())},this._listenersAdded=!1}}},85614:function(e,t,a){a.d(t,{i:()=>o});const o=async()=>{await a.e("2564").then(a.bind(a,42735))}},46187:function(e,t,a){a.d(t,{A:()=>o});const o=(e=0,t=2)=>{if(0===e)return"0 Bytes";t=t<0?0:t;const a=Math.floor(Math.log(e)/Math.log(1024));return`${parseFloat((e/1024**a).toFixed(t))} ${["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][a]}`}}};
//# sourceMappingURL=1325.f6ccfeb9ce662036.js.map