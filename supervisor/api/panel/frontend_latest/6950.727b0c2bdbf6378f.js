export const __webpack_id__="6950";export const __webpack_ids__=["6950"];export const __webpack_modules__={4358:function(t,e,i){i.d(e,{aH:()=>r});var s=i(79),a=i(28978);const o=[" ",": "," - "],n=t=>t.toLowerCase()!==t,r=(t,e,i)=>{const s=e[t.entity_id];return s?d(s,i):(0,a.u)(t)},d=(t,e,i)=>{const r=t.name||("original_name"in t&&null!=t.original_name?String(t.original_name):void 0),d=t.device_id?e[t.device_id]:void 0;if(!d)return r||(i?(0,a.u)(i):void 0);const c=(0,s.xn)(d);return c!==r?c&&r&&((t,e)=>{const i=t.toLowerCase(),s=e.toLowerCase();for(const e of o){const a=`${s}${e}`;if(i.startsWith(a)){const e=t.substring(a.length);if(e.length)return n(e.substr(0,e.indexOf(" ")))?e:e[0].toUpperCase()+e.slice(1)}}})(r,c)||r:void 0}},74705:function(t,e,i){i.d(e,{Cf:()=>d});i(18111),i(81148),i(22489),i(61701),i(13579);var s=i(65522),a=i(79),o=i(4358),n=i(55931),r=i(28455);const d=(t,e,i,d,c,l)=>{const{device:u,area:p,floor:h}=(0,r.l)(t,i,d,c,l);return e.map(e=>{switch(e.type){case"entity":return(0,o.aH)(t,i,d);case"device":return u?(0,a.xn)(u):void 0;case"area":return p?(0,s.A)(p):void 0;case"floor":return h?(0,n.X)(h):void 0;case"text":return e.text;default:return""}})}},28455:function(t,e,i){i.d(e,{l:()=>s});const s=(t,e,i,s,o)=>{const n=e[t.entity_id];return n?a(n,e,i,s,o):{entity:null,device:null,area:null,floor:null}},a=(t,e,i,s,a)=>{const o=e[t.entity_id],n=t?.device_id,r=n?i[n]:void 0,d=t?.area_id||r?.area_id,c=d?s[d]:void 0,l=c?.floor_id;return{entity:o,device:r||null,area:c||null,floor:(l?a[l]:void 0)||null}}},78649:function(t,e,i){i.d(e,{n:()=>a});const s=/^(\w+)\.(\w+)$/,a=t=>s.test(t)},9899:function(t,e,i){i.d(e,{s:()=>s});const s=(t,e,i=!1)=>{let s;const a=(...a)=>{const o=i&&!s;clearTimeout(s),s=window.setTimeout(()=>{s=void 0,t(...a)},e),o&&t(...a)};return a.cancel=()=>{clearTimeout(s)},a}},82474:function(t,e,i){i.a(t,async function(t,e){try{i(18111),i(61701);var s=i(62826),a=i(96196),o=i(77845),n=i(22786),r=i(1087),d=i(74705),c=i(78649),l=i(15638),u=i(68423),p=i(95350),h=i(24367),_=i(19711),y=(i(75064),i(38508)),m=(i(67094),i(74281)),v=t([y,m]);[y,m]=v.then?(await v)():v;const g="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z",b="M11,13.5V21.5H3V13.5H11M12,2L17.5,11H6.5L12,2M17.5,13C20,13 22,15 22,17.5C22,20 20,22 17.5,22C15,22 13,20 13,17.5C13,15 15,13 17.5,13Z",f="___create-new-entity___";class $ extends a.WF{firstUpdated(t){super.firstUpdated(t),this.hass.loadBackendTranslation("title")}get _showEntityId(){return this.showEntityId||this.hass.userData?.showEntityIdPicker}render(){const t=this.placeholder??this.hass.localize("ui.components.entity.entity-picker.placeholder");return a.qy` <ha-generic-picker .hass="${this.hass}" .disabled="${this.disabled}" .autofocus="${this.autofocus}" .allowCustomValue="${this.allowCustomEntity}" .label="${this.label}" .helper="${this.helper}" .searchLabel="${this.searchLabel}" .notFoundLabel="${this._notFoundLabel}" .placeholder="${t}" .value="${this.addButton?void 0:this.value}" .rowRenderer="${this._rowRenderer}" .getItems="${this._getItems}" .getAdditionalItems="${this._getAdditionalItems}" .hideClearIcon="${this.hideClearIcon}" .searchFn="${this._searchFn}" .valueRenderer="${this._valueRenderer}" @value-changed="${this._valueChanged}" .addButtonLabel="${this.addButton?this.hass.localize("ui.components.entity.entity-picker.add"):void 0}"> </ha-generic-picker> `}async open(){await this.updateComplete,await(this._picker?.open())}_valueChanged(t){t.stopPropagation();const e=t.detail.value;if(e){if(e.startsWith(f)){const t=e.substring(f.length);return void(0,_.$)(this,{domain:t,dialogClosedCallback:t=>{t.entityId&&this._setValue(t.entityId)}})}(0,c.n)(e)&&this._setValue(e)}else this._setValue(void 0)}_setValue(t){this.value=t,(0,r.r)(this,"value-changed",{value:t}),(0,r.r)(this,"change")}constructor(...t){super(...t),this.autofocus=!1,this.disabled=!1,this.required=!1,this.showEntityId=!1,this.hideClearIcon=!1,this.addButton=!1,this._valueRenderer=t=>{const e=t||"",i=this.hass.states[e];if(!i)return a.qy` <ha-svg-icon slot="start" .path="${b}" style="margin:0 4px"></ha-svg-icon> <span slot="headline">${e}</span> `;const[s,o,n]=(0,d.Cf)(i,[{type:"entity"},{type:"device"},{type:"area"}],this.hass.entities,this.hass.devices,this.hass.areas,this.hass.floors),r=(0,l.qC)(this.hass),c=s||o||e,u=[n,s?o:void 0].filter(Boolean).join(r?" ◂ ":" ▸ ");return a.qy` <state-badge .hass="${this.hass}" .stateObj="${i}" slot="start"></state-badge> <span slot="headline">${c}</span> <span slot="supporting-text">${u}</span> `},this._rowRenderer=(t,{index:e})=>{const i=this._showEntityId;return a.qy` <ha-combo-box-item type="button" compact="compact" .borderTop="${0!==e}"> ${t.icon_path?a.qy` <ha-svg-icon slot="start" style="margin:0 4px" .path="${t.icon_path}"></ha-svg-icon> `:a.qy` <state-badge slot="start" .stateObj="${t.stateObj}" .hass="${this.hass}"></state-badge> `} <span slot="headline">${t.primary}</span> ${t.secondary?a.qy`<span slot="supporting-text">${t.secondary}</span>`:a.s6} ${t.stateObj&&i?a.qy` <span slot="supporting-text" class="code"> ${t.stateObj.entity_id} </span> `:a.s6} ${t.domain_name&&!i?a.qy` <div slot="trailing-supporting-text" class="domain"> ${t.domain_name} </div> `:a.s6} </ha-combo-box-item> `},this._getAdditionalItems=()=>this._getCreateItems(this.hass.localize,this.createDomains),this._getCreateItems=(0,n.A)((t,e)=>e?.length?e.map(e=>{const i=t("ui.components.entity.entity-picker.create_helper",{domain:(0,h.z)(e)?t(`ui.panel.config.helpers.types.${e}`):(0,p.p$)(t,e)});return{id:f+e,primary:i,secondary:t("ui.components.entity.entity-picker.new_entity"),icon_path:g}}):[]),this._getEntitiesMemoized=(0,n.A)(u.wz),this._getItems=()=>this._getEntitiesMemoized(this.hass,this.includeDomains,this.excludeDomains,this.entityFilter,this.includeDeviceClasses,this.includeUnitOfMeasurement,this.includeEntities,this.excludeEntities,this.value),this._searchFn=(t,e)=>{const i=e.findIndex(e=>e.stateObj?.entity_id===t);if(-1===i)return e;const[s]=e.splice(i,1);return e.unshift(s),e},this._notFoundLabel=t=>this.hass.localize("ui.components.entity.entity-picker.no_match",{term:a.qy`<b>‘${t}’</b>`})}}(0,s.__decorate)([(0,o.MZ)({attribute:!1})],$.prototype,"hass",void 0),(0,s.__decorate)([(0,o.MZ)({type:Boolean})],$.prototype,"autofocus",void 0),(0,s.__decorate)([(0,o.MZ)({type:Boolean})],$.prototype,"disabled",void 0),(0,s.__decorate)([(0,o.MZ)({type:Boolean})],$.prototype,"required",void 0),(0,s.__decorate)([(0,o.MZ)({type:Boolean,attribute:"allow-custom-entity"})],$.prototype,"allowCustomEntity",void 0),(0,s.__decorate)([(0,o.MZ)({type:Boolean,attribute:"show-entity-id"})],$.prototype,"showEntityId",void 0),(0,s.__decorate)([(0,o.MZ)()],$.prototype,"label",void 0),(0,s.__decorate)([(0,o.MZ)()],$.prototype,"value",void 0),(0,s.__decorate)([(0,o.MZ)()],$.prototype,"helper",void 0),(0,s.__decorate)([(0,o.MZ)()],$.prototype,"placeholder",void 0),(0,s.__decorate)([(0,o.MZ)({type:String,attribute:"search-label"})],$.prototype,"searchLabel",void 0),(0,s.__decorate)([(0,o.MZ)({attribute:!1,type:Array})],$.prototype,"createDomains",void 0),(0,s.__decorate)([(0,o.MZ)({type:Array,attribute:"include-domains"})],$.prototype,"includeDomains",void 0),(0,s.__decorate)([(0,o.MZ)({type:Array,attribute:"exclude-domains"})],$.prototype,"excludeDomains",void 0),(0,s.__decorate)([(0,o.MZ)({type:Array,attribute:"include-device-classes"})],$.prototype,"includeDeviceClasses",void 0),(0,s.__decorate)([(0,o.MZ)({type:Array,attribute:"include-unit-of-measurement"})],$.prototype,"includeUnitOfMeasurement",void 0),(0,s.__decorate)([(0,o.MZ)({type:Array,attribute:"include-entities"})],$.prototype,"includeEntities",void 0),(0,s.__decorate)([(0,o.MZ)({type:Array,attribute:"exclude-entities"})],$.prototype,"excludeEntities",void 0),(0,s.__decorate)([(0,o.MZ)({attribute:!1})],$.prototype,"entityFilter",void 0),(0,s.__decorate)([(0,o.MZ)({attribute:"hide-clear-icon",type:Boolean})],$.prototype,"hideClearIcon",void 0),(0,s.__decorate)([(0,o.MZ)({attribute:"add-button",type:Boolean})],$.prototype,"addButton",void 0),(0,s.__decorate)([(0,o.P)("ha-generic-picker")],$.prototype,"_picker",void 0),$=(0,s.__decorate)([(0,o.EM)("ha-entity-picker")],$),e()}catch(t){e(t)}})},82e3:function(t,e,i){i.d(e,{Hg:()=>s,e0:()=>a});i(18111),i(61701);const s=t=>t.map(t=>{if("string"!==t.type)return t;switch(t.name){case"username":return{...t,autocomplete:"username",autofocus:!0};case"password":return{...t,autocomplete:"current-password"};case"code":return{...t,autocomplete:"one-time-code",autofocus:!0};default:return t}}),a=(t,e)=>t.callWS({type:"auth/sign_path",path:e})},92025:function(t,e,i){i.d(e,{HV:()=>o,Hh:()=>a,KF:()=>r,ON:()=>n,g0:()=>l,s7:()=>d});var s=i(23832);const a="unavailable",o="unknown",n="on",r="off",d=[a,o],c=[a,o,r],l=(0,s.g)(d);(0,s.g)(c)},68423:function(t,e,i){i.d(e,{BM:()=>f,Bz:()=>v,G3:()=>h,G_:()=>_,Ox:()=>g,P9:()=>b,jh:()=>u,v:()=>p,wz:()=>$});i(18111),i(22489),i(20116),i(61701);var s=i(70570),a=i(22786),o=i(71727),n=i(74705),r=i(28978),d=(i(52220),i(15638)),c=i(9899),l=i(95350);const u=(t,e)=>{if(e.name)return e.name;const i=t.states[e.entity_id];return i?(0,r.u)(i):e.original_name?e.original_name:e.entity_id},p=(t,e)=>t.callWS({type:"config/entity_registry/get",entity_id:e}),h=(t,e)=>t.callWS({type:"config/entity_registry/get_entries",entity_ids:e}),_=(t,e,i)=>t.callWS({type:"config/entity_registry/update",entity_id:e,...i}),y=t=>t.sendMessagePromise({type:"config/entity_registry/list"}),m=(t,e)=>t.subscribeEvents((0,c.s)(()=>y(t).then(t=>e.setState(t,!0)),500,!0),"entity_registry_updated"),v=(t,e)=>(0,s.N)("_entityRegistry",y,m,t,e),g=(0,a.A)(t=>{const e={};for(const i of t)e[i.entity_id]=i;return e}),b=(0,a.A)(t=>{const e={};for(const i of t)e[i.id]=i;return e}),f=(t,e)=>t.callWS({type:"config/entity_registry/get_automatic_entity_ids",entity_ids:e}),$=(t,e,i,s,a,c,u,p,h,_="")=>{let y=[],m=Object.keys(t.states);return u&&(m=m.filter(t=>u.includes(t))),p&&(m=m.filter(t=>!p.includes(t))),e&&(m=m.filter(t=>e.includes((0,o.m)(t)))),i&&(m=m.filter(t=>!i.includes((0,o.m)(t)))),y=m.map(e=>{const i=t.states[e],s=(0,r.u)(i),[a,c,u]=(0,n.Cf)(i,[{type:"entity"},{type:"device"},{type:"area"}],t.entities,t.devices,t.areas,t.floors),p=(0,l.p$)(t.localize,(0,o.m)(e)),h=(0,d.qC)(t),y=a||c||e,m=[u,a?c:void 0].filter(Boolean).join(h?" ◂ ":" ▸ ");return{id:`${_}${e}`,primary:y,secondary:m,domain_name:p,sorting_label:[c,a].filter(Boolean).join("_"),search_labels:[a,c,u,p,s,e].filter(Boolean),stateObj:i}}),a&&(y=y.filter(t=>t.id===h||t.stateObj?.attributes.device_class&&a.includes(t.stateObj.attributes.device_class))),c&&(y=y.filter(t=>t.id===h||t.stateObj?.attributes.unit_of_measurement&&c.includes(t.stateObj.attributes.unit_of_measurement))),s&&(y=y.filter(t=>t.id===h||t.stateObj&&s(t.stateObj))),y}},19711:function(t,e,i){i.d(e,{$:()=>o});var s=i(1087);const a=()=>Promise.all([i.e("3785"),i.e("1046")]).then(i.bind(i,79029)),o=(t,e)=>{(0,s.r)(t,"show-dialog",{dialogTag:"dialog-helper-detail",dialogImport:a,dialogParams:e})}}};
//# sourceMappingURL=6950.727b0c2bdbf6378f.js.map